(function(t){function e(e){for(var s,r,l=e[0],o=e[1],c=e[2],d=0,m=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,l=1;l<a.length;l++){var o=a[l];0!==i[o]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/staff-tracker/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"0428":function(t,e,a){},"0529":function(t,e,a){"use strict";a("a60d")},"088b":function(t,e){t.exports="data:image/png;base64,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"},"0bc1":function(t,e,a){},1404:function(t,e,a){"use strict";a("0bc1")},"1c4a":function(t,e){t.exports="data:image/png;base64,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"},2662:function(t,e,a){},"294b":function(t,e){t.exports="data:image/png;base64,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"},3081:function(t,e,a){"use strict";a("0428")},"4af2":function(t,e,a){},"4ce9":function(t,e,a){"use strict";a("9e17")},"54d9":function(t,e,a){"use strict";a("4af2")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showProject?a("div",[a("Navbar",{attrs:{show:t.show.userList,notify:t.notify,layout:t.layout,user:t.activeUser},on:{"show-modal":function(e){t.updated=!1,t.showModal=!0},cleanNotify:function(e){t.notify=[]},read:t.readNotify,close:function(e){t.show.userList=e},layout:t.setLayout,"set:profile":t.setProfileUser,logout:function(e){return t.logout()}}}),a("Modal",{attrs:{firebase:t.firebase,comp:"SignUp"},on:{"insert:user":t.insertUser},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}}),"map"==t.layout?a("div",{attrs:{id:"map"}},[a("Map",{directives:[{name:"show",rawName:"v-show",value:t.updated,expression:"updated"}],attrs:{realLoading:t.isLoading,roadMap:t.lastLatLon,"heat-map-points":t.heatMapPoints,points:t.points,lat:t.firstLat,lng:t.firstLng,user:t.userInfo}}),a("img",{directives:[{name:"show",rawName:"v-show",value:!t.updated,expression:"!updated"}],staticClass:"animate__animated animate__heartBeat animate__repeat-3",attrs:{alt:"Eralp Software",width:"600",src:"https://www.eralpsoftware.com/images/EralpSoftware.png"}}),t.show.profileCard?a("ProfileCard",{class:t.show.profileCard?"animate__animated animate__backInRight":"",attrs:{activeUser:t.activeUser,"class-header":"profile-card",firebase:t.firebase,user:t.profileUser},on:{"success:edit":t.editedUser,close:function(e){t.show.profileCard=e}}}):t._e(),t.show.userList?a("UserList",{attrs:{realLoading:t.isLoading,search:t.searchUserList,user:t.userInfo,firebase:t.firebase,msg:"Welcome to Your Vue.js App"},on:{close:function(e){t.show.userList=e},"show-modal":function(e){t.updated=!1,t.showModal=!0},click:t.setUserHeatMap},model:{value:t.users,callback:function(e){t.users=e},expression:"users"}}):t._e(),t.updated?a("LastDataTime",{attrs:{time:t.lastDataTime}}):t._e(),a("UserInfoApp",{directives:[{name:"show",rawName:"v-show",value:t.updated,expression:"updated"}],attrs:{firebase:t.firebase,userInfo:t.userInfo},on:{refresh:t.setRefresh,"set:profile":t.setProfileUser,updated:function(e){t.updated=e},"delete:user":t.deleteUser}})],1):"missions"==t.layout?a("div",{staticStyle:{width:"100vw!important"}},[a(t.activeComponent,{tag:"component",attrs:{user:t.userInfo,firebase:t.firebase},on:{click:t.setUserHeatMap,layout:t.setLayout},model:{value:t.users,callback:function(e){t.users=e},expression:"users"}})],1):"view-sales"==t.layout?a("div",[a("SalesView",{attrs:{realLoading:t.isLoading,firebase:t.firebase,user:t.activeUser},model:{value:t.users,callback:function(e){t.users=e},expression:"users"}})],1):t._e()],1):t.loginModal?a("div",{staticStyle:{width:"100%!important","max-width":"650px!important"}},[a("Login",{attrs:{firebase:t.firebase},on:{success:t.setAccount}})],1):a("div",[a("b-loading",{attrs:{"is-full-page":""},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}})],1)])},n=[],r=a("2909"),l=a("1da1"),o=a("5530"),c=(a("96cf"),a("159b"),a("d81d"),a("b0c0"),a("a434"),a("2591")),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{"leave-active-class":"animate__backOutLeft"}},[a("article",{staticClass:"leaderboard animate__animated animate__backInLeft",class:{"non-fixed":t.nonFixed},style:t.show?"left:"+t.list.x+"px;top:"+t.list.y+"rem":"left:-370px;top:5px"},[a("Modal",{attrs:{firebase:t.firebase,name:"user-list",user:t.selectedItem.data,comp:"DatePicker"},on:{"input:createdAt":t.setDatePicker},model:{value:t.datePickerModal,callback:function(e){t.datePickerModal=e},expression:"datePickerModal"}}),a("header",{staticClass:"head"},[a("svg",{staticClass:"leaderboard__icon",staticStyle:{"enable-background":"new 0 0 511.999 511.999"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 511.999 511.999","xml:space":"preserve"}},[a("g",[a("g",[a("path",{attrs:{d:"M466.45,49.374c-7.065-8.308-17.368-13.071-28.267-13.071H402.41v-11.19C402.41,11.266,391.143,0,377.297,0H134.705\n\t\t\tc-13.848,0-25.112,11.266-25.112,25.112v11.19H73.816c-10.899,0-21.203,4.764-28.267,13.071\n\t\t\tc-6.992,8.221-10.014,19.019-8.289,29.624c9.4,57.8,45.775,108.863,97.4,136.872c4.717,11.341,10.059,22.083,16.008,32.091\n\t\t\tc19.002,31.975,42.625,54.073,68.627,64.76c2.635,26.644-15.094,51.885-41.794,57.9c-0.057,0.013-0.097,0.033-0.153,0.046\n\t\t\tc-5.211,1.245-9.09,5.921-9.09,11.513v54.363h-21.986c-19.602,0-35.549,15.947-35.549,35.549v28.058\n\t\t\tc0,6.545,5.305,11.85,11.85,11.85H390.56c6.545,0,11.85-5.305,11.85-11.85v-28.058c0-19.602-15.947-35.549-35.549-35.549h-21.988\n\t\t\tV382.18c0-5.603-3.893-10.286-9.118-11.52c-0.049-0.012-0.096-0.028-0.145-0.04c-26.902-6.055-44.664-31.55-41.752-58.394\n\t\t\tc25.548-10.86,48.757-32.761,67.479-64.264c5.949-10.009,11.29-20.752,16.008-32.095c51.622-28.01,87.995-79.072,97.395-136.87\n\t\t\tC476.465,68.392,473.443,57.595,466.45,49.374z M60.652,75.192c-0.616-3.787,0.431-7.504,2.949-10.466\n\t\t\tc2.555-3.004,6.277-4.726,10.214-4.726h35.777v21.802c0,34.186,4.363,67.3,12.632,97.583\n\t\t\tC89.728,153.706,67.354,116.403,60.652,75.192z M366.861,460.243c6.534,0,11.85,5.316,11.85,11.85v16.208H134.422v-16.208\n\t\t\tc0-6.534,5.316-11.85,11.85-11.85H366.861z M321.173,394.03v42.513H191.96V394.03H321.173z M223.037,370.331\n\t\t\tc2.929-3.224,5.607-6.719,8.002-10.46c7.897-12.339,12.042-26.357,12.228-40.674c4.209,0.573,8.457,0.88,12.741,0.88\n\t\t\tc4.661,0,9.279-0.358,13.852-1.036c0.27,19.239,7.758,37.45,20.349,51.289H223.037z M378.709,81.803\n\t\t\tc0,58.379-13.406,113.089-37.747,154.049c-23.192,39.03-53.364,60.525-84.956,60.525c-31.597,0-61.771-21.494-84.966-60.523\n\t\t\tc-24.342-40.961-37.748-95.671-37.748-154.049V25.112c0-0.78,0.634-1.413,1.412-1.413h242.591c0.78,0,1.414,0.634,1.414,1.413\n\t\t\tV81.803z M451.348,75.192c-6.702,41.208-29.074,78.51-61.569,104.191c8.268-30.283,12.631-63.395,12.631-97.58V60.001h35.773\n\t\t\tc3.938,0,7.66,1.723,10.214,4.726C450.915,67.688,451.963,71.405,451.348,75.192z"}})])]),a("g",[a("g",[a("path",{attrs:{d:"M327.941,121.658c-1.395-4.288-5.103-7.414-9.566-8.064l-35.758-5.196l-15.991-32.402\n\t\t\tc-1.997-4.044-6.116-6.605-10.626-6.605c-4.511,0-8.63,2.561-10.626,6.605l-15.991,32.402l-35.758,5.196\n\t\t\tc-4.464,0.648-8.172,3.775-9.566,8.065c-1.393,4.291-0.231,8.999,2.999,12.148l25.875,25.221l-6.109,35.613\n\t\t\tc-0.763,4.446,1.064,8.938,4.714,11.59c3.648,2.651,8.487,3,12.479,0.902L256,190.32l31.982,16.813\n\t\t\tc1.734,0.911,3.627,1.36,5.512,1.36c2.456,0,4.902-0.763,6.966-2.263c3.65-2.652,5.477-7.144,4.714-11.59l-6.109-35.613\n\t\t\tl25.875-25.221C328.172,130.658,329.334,125.949,327.941,121.658z M278.064,146.405c-2.793,2.722-4.068,6.644-3.408,10.489\n\t\t\tl3.102,18.09l-16.245-8.541c-1.725-0.908-3.62-1.36-5.514-1.36c-1.894,0-3.788,0.454-5.514,1.36l-16.245,8.541l3.102-18.09\n\t\t\tc0.66-3.844-0.615-7.766-3.408-10.489l-13.141-12.81l18.162-2.64c3.859-0.56,7.196-2.985,8.922-6.482l8.123-16.458l8.122,16.458\n\t\t\tc1.727,3.497,5.062,5.921,8.922,6.482l18.162,2.64L278.064,146.405z"}})])])]),a("h1",{staticClass:"leaderboard__title",staticStyle:{"z-index":"1"}},[a("span",{staticClass:"leaderboard__title--top"},[t._v("List")]),a("span",{staticClass:"leaderboard__title--bottom"},[t._v("Staff Tracker")])]),t.nonFixed?t._e():a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("b-tooltip",{staticStyle:{"z-index":"1"},attrs:{label:"Gizlemek için tıklayın",position:"is-left"}},[a("b-button",{attrs:{type:"is-danger ",size:"is-small"},on:{click:function(e){t.show=!1}}},[t._v(" X ")])],1)],1)]),a("main",{staticClass:"leaderboard__profiles"},[a("div",{staticStyle:{"text-align":"center"}},[a("b-button",{attrs:{type:"is-success is-light",size:"is-small"},on:{click:function(e){return t.setUserList("user","isDisabled","==",!1)}}},[t._v(" Aktif Çalışanlar ")]),a("b-button",{attrs:{type:"is-success is-light",size:"is-small"},on:{click:function(e){return t.setUserList("user","isAdmin","==",!1)}}},[t._v(" Sadece Çalışan ")]),a("b-button",{attrs:{type:"is-success is-light",size:"is-small"},on:{click:function(e){return t.setUserList("user","isDisabled","==",!0)}}},[t._v(" Aktif Olmayan ")])],1),a("div",[a("b-input",{attrs:{placeholder:"Çalışan ismini ara...",size:"is-small"},on:{input:function(e){return t.controlList(e)}}})],1),a("b-loading",{attrs:{"is-full-page":!1},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}}),t._l(t.userList,(function(e,s){return a("article",{key:s,staticClass:"leaderboard__profile",class:{"is-passive":!e.isMoving,"is-disabled":e.isDisabled,"is-active-list":e.isMoving},on:{click:function(a){t.nonFixed?t.setUserListOne("detail","tasks","userId","==",e.id,e):t.setUserListOne("click","locations","id","==",e.id,e)}}},[a("b-tooltip",{attrs:{label:e.isMoving?"Hareket halinde":"Hareket etmiyor",type:e.isMoving?"is-success":"is-danger",position:"is-right"}},[e.image?a("img",{staticClass:"leaderboard__picture",attrs:{src:e.image,alt:"Mark Zuckerberg"}}):a("img",{staticClass:"leaderboard__picture",attrs:{src:"https://www.clipartkey.com/mpngs/m/146-1461473_default-profile-picture-transparent.png",alt:"Mark Zuckerberg"}})]),a("span",{staticClass:"leaderboard__name"},[e.isAdmin?a("b-tooltip",{attrs:{label:"Yönetici Hesabı",position:"is-right"}},[a("span",[t._v("★")])]):t._e(),t._v(" "+t._s(e.name)+" "),a("small",{staticStyle:{"font-size":"10px"}},[t._v("("+t._s(e.email)+")")]),a("small",{staticStyle:{"font-size":"10px"}},[t._v(t._s(e.isDisabled?"(Bu hesap aktif değil)":""))])],1),a("span",{staticClass:"leaderboard__value"},[t._v(" - ")])],1)}))],2)],1)]),t.nonFixed?t._e():a("div",{staticClass:"toggle-button",style:"top:"+t.top+"px;"+(t.show?"left:"+(t.list.x+370)+"px;"+(t.show?"background:white!important":""):"left: 0px;top:90vh"),on:{click:function(e){t.show=!t.show}}},[a("b-tooltip",{attrs:{label:t.show?"Kullanıcı listesini gizlemek için tıklayın.":"Kullanıcı listesini görmek için tıklayın.",position:"is-right"}},[t.show?a("vue-fontawesome",{staticClass:"animate__animated animate__backInLeft",staticStyle:{"font-size":"40px",color:"#7C83FD",cursor:"pointer"},attrs:{icon:"arrow-alt-circle-left"}}):a("vue-fontawesome",{staticClass:"animate__animated animate__backInLeft",staticStyle:{"font-size":"32px",color:"white",cursor:"pointer"},attrs:{icon:"users"}})],1)],1)],1)},d=[],m=a("3835"),p=(a("ac1f"),a("1276"),a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{"full-screen":"",width:640,"can-cancel":!1},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("div",{staticClass:"is-flex is-align-items-end is-justify-content-space-between"},[a("b-tooltip",{attrs:{position:"is-right",label:"Geri"}},[a("b-button",{staticClass:"has-text-white",attrs:{type:"is-primary is-light"},on:{click:function(e){t.modal=!1}}},[a("vue-fontawesome",{attrs:{icon:"arrow-left"}})],1)],1),a("b-tooltip",{attrs:{position:"is-left",label:"Kapat"}},[a("b-button",{staticClass:"has-text-white",attrs:{type:"is-danger is-light"},on:{click:function(e){t.modal=!1}}},[t._v("X")])],1)],1),a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a(t.comp,{tag:"component",attrs:{edit:t.edit,user:t.user,firebase:t.firebase},on:{"success:edit":function(e){t.modal=!1,t.$emit("edit:user",e)},success:function(e){t.modal=!1,t.$emit("insert:user",e)},"input:createdAt":function(e){return t.$emit("input:createdAt",e)}}})],1)])])}),f=[],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[t.edit?a("div",{staticClass:"has-background-black is-flex is-justify-content-flex-end"}):t._e(),a("div",{staticClass:"columns"},[a("div",{staticClass:"column p-0"},[a("b-field",[a("b-upload",{attrs:{"drag-drop":""},model:{value:t.dropFiles,callback:function(e){t.dropFiles=e},expression:"dropFiles"}},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:"upload",size:"is-large"}})],1),a("p",[t._v(" Kullanıcının profil resmini yüklemek için tıklayın veya buraya sürükleyin ")])])])])],1)],1),""!=t.file?a("div",{staticClass:"column has-text-centered p-0"},[a("div",{staticClass:"p-2"},[t._m(0),a("img",{staticStyle:{width:"100%","max-width":"150px"},attrs:{src:t.file,alt:"önizleme image"}}),a("div",{staticClass:"mt-3"},[a("b-button",{attrs:{type:"is-danger is-light",size:"is-small"},on:{click:function(e){t.dropFiles=null,t.profileFile=[],t.file=""}}},[t._v("X Resimi Kaldır")])],1)])]):t._e()]),a("b-field",{attrs:{type:t.val.createdAt.type,message:t.val.createdAt.message,label:"İşe başlangıç tarihini seçiniz"}},[a("b-datepicker",{attrs:{"date-formatter":function(t){return new Intl.DateTimeFormat(["ban","id"]).format(t)},"first-day-of-week":1,placeholder:"İşe başlangıç tarihini seçiniz"},model:{value:t.createdAt,callback:function(e){t.createdAt=e},expression:"createdAt"}})],1),a("b-field",{attrs:{type:t.val.displayName.type,message:t.val.displayName.message,label:"Çalışan Adı ve Soyadı"}},[a("b-input",{attrs:{placeholder:"Çalışan Adı ve Soyadı",required:""},model:{value:t.form.displayName,callback:function(e){t.$set(t.form,"displayName",e)},expression:"form.displayName"}})],1),a("b-field",{attrs:{label:"Giriş Mail Adresi",type:t.val.email.type,message:t.val.email.message}},[a("b-input",{attrs:{type:"email",maxlength:"30"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t.edit?t._e():a("b-field",{attrs:{type:t.val.password.type,message:t.val.password.message,label:"Şifresi"}},[a("b-input",{attrs:{type:"password",required:"","password-reveal":""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("b-field",{attrs:{label:"Kullanıcı Yetkilendirme"}},[a("b-checkbox",{model:{value:t.form.isAdmin,callback:function(e){t.$set(t.form,"isAdmin",e)},expression:"form.isAdmin"}},[t._v("Kullanıcıya Admin Yetkisi vermek için tıklayın.")])],1),t._m(1),t.edit?a("hr"):t._e(),t.edit?a("b-field",{attrs:{label:"Aktiflik Durumu"}},[a("b-checkbox",{model:{value:t.form.disabled,callback:function(e){t.$set(t.form,"disabled",e)},expression:"form.disabled"}},[t._v(t._s("Kullanıcıyı "+(t.form.disabled?"Aktif":"Pasif")+" duruma getirmek için tıklayın")+".")])],1):t._e(),a("div",{staticStyle:{"text-align":"right","margin-top":"5px"}},[t.edit?a("b-button",{staticClass:"mx-2",attrs:{type:"is-danger is-light"},on:{click:function(e){return t.$emit("close")}}},[t._v("Kapat")]):t._e(),a("b-button",{attrs:{disabled:t.loading,loading:t.loading,type:"is-primary is-light"},on:{click:t.middleware}},[t._v("Gönder")])],1)],1)},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"my-3"},[a("strong",[t._v("Kullanıcı Profil Resmi")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("small",[t._v("* Kullanıcıya Admin Yetkisi verirseniz Admin Panelinden diğer kullanıcıların konumlarını inceleyebilir.")])])}];a("caad"),a("2532");function v(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())}var b={props:{firebase:{default:function(){}},edit:{default:!1,type:Boolean},user:{default:function(){}}},data:function(){return{createdAt:null,loading:!1,val:{displayName:{type:"",message:""},email:{type:"",message:""},password:{type:"",message:""},createdAt:{type:"",message:""}},form:{id:-1,email:"",emailVerified:!1,createdAt:null,phoneNumber:"",password:"",displayName:"",disabled:!1,last_seen:{},isAdmin:!1},profileFile:[],dropFiles:[],file:""}},watch:{createdAt:function(t){this.form.createdAt=new Intl.DateTimeFormat(["ban","id"]).format(t)},dropFiles:function(t){this.createImage(t,"new")}},methods:{createImage:function(t,e){if(console.log(e,t.type,t.type.includes("image/")),t.type.includes("image/")){var a=new FileReader,s=this;a.onload=function(e){s.file=e.target.result,console.log(s.file);var a=new Image;a.onload=function(){s.size={width:this.width,height:this.height},this.width==this.height&&this.width>150?s.profileFile=t:(s.notify("Yüklediğinizin resimin KARE ve 150x150 den büyük olduğunu kontrol ediniz","is-danger"),s.file="",s.profileFile.images=[])},a.src=e.target.result},a.readAsDataURL(t)}else this.notify("Sadece resim formatında olan dosyaları yükleyebilirsin.","is-danger"),this.file="",this.profileFile.images=[]},sendImage:function(){var t=this;if(0==this.profileFile.length&&""!=this.file)return this.file;if(0==this.profileFile.length)return"";var e=this.profileFile,a=this.firebase.storage().ref(),s=a.child(e.name);return console.log(a),s.put(e).then((function(e){return t.notify("Profil fotoğrafı başarıyla yüklendi.","is-warning"),e.ref.getDownloadURL().then((function(t){return t}))}))},alertMsg:function(t,e){this.$buefy.dialog.alert({title:"Bilgi",message:t,type:e,hasIcon:!0,icon:"times-circle",iconPack:"fa",ariaRole:"alertdialog",ariaModal:!0})},notify:function(t,e){"is-danger"==e&&this.alertMsg(t,e),this.$buefy.toast.open({duration:5e3,message:t,position:"is-bottom",type:e})},middleware:function(){this.edit?this.onSubmitEdit():this.onSubmit()},onSubmitEdit:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.controlValidation(t.form);case 3:if("is-success"!=t.val.displayName.type||"is-success"!=t.val.email.type||"is-success"!=t.val.createdAt.type){e.next=15;break}return e.next=6,t.sendImage("edit");case 6:return a=e.sent,console.log(a),e.next=10,t.firebase.firestore().collection("user").doc(t.user.id).set({image:a,name:t.form.displayName,email:t.form.email,id:t.user.id,isAdmin:t.form.isAdmin,last_seen:t.form.last_seen,createdAt:t.form.createdAt,isDisabled:t.form.disabled,isSleep:!1});case 10:t.loading=!1,t.$buefy.toast.open({duration:5e3,message:"Kullanıcıyı değiştirme işleminiz başarıyla gerçekleştirildi.!",type:"is-success"}),t.$emit("success:edit",Object(o["a"])(Object(o["a"])({},t.form),{},{image:a,name:t.form.displayName,isDisabled:t.form.disabled})),e.next=16;break;case 15:t.$buefy.toast.open({duration:5e3,message:"Tüm alanları eksiksiz doldurunuz!",type:"is-danger"});case 16:case"end":return e.stop()}}),e)})))()},onSubmit:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.controlValidation(t.form);case 3:"is-success"==t.val.displayName.type&&"is-success"==t.val.email.type&&"is-success"==t.val.password.type&&"is-success"==t.val.createdAt.type?(t.$emit("success",Object(o["a"])(Object(o["a"])({},t.form),{},{image:t.file,name:t.form.displayName,isDisabled:!1})),t.$buefy.toast.open({duration:5e3,message:"Kayıt başarıyla gerçekleştirildi!",type:"is-success"})):t.$buefy.toast.open({duration:5e3,message:"Tüm alanları eksiksiz doldurunuz!",type:"is-danger"}),t.loading=!1;case 5:case"end":return e.stop()}}),e)})))()},controlValidation:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.valRequired("displayName",t);case 2:return a.next=4,e.valRequired("password",t);case 4:return a.next=6,e.valRequired("createdAt",t);case 6:return a.next=8,e.valRequired("email",t);case 8:return a.next=10,e.valEmail("email",t);case 10:return a.abrupt("return","done");case 11:case"end":return a.stop()}}),a)})))()},controlEmailAddress:function(t){var e=this;return!!this.edit||this.firebase.auth().createUserWithEmailAndPassword(t,this.form.password).then(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(a){var s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=a.user,e.form.id=s.uid,t.next=4,e.sendImage();case 4:return i=t.sent,console.log(i),e.firebase.firestore().collection("user").doc(s.uid).set({image:i,name:e.form.displayName,email:e.form.email,id:s.uid,isAdmin:e.form.isAdmin,createdAt:e.form.createdAt,isDisabled:!1,isSleep:!1}),t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(a){var s=a.code;return"auth/email-already-in-use"==s&&(e.val.email.type="is-danger",e.val.email.message="'".concat(t,"' E-mail adresi daha önce kullanılmış.")),!1}))},valEmail:function(t,e){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!v(e[t])){s.next=6;break}return s.next=3,a.controlEmailAddress(e[t]);case 3:return s.abrupt("return",!0);case 6:return a.val[t].type="is-danger",a.val[t].message="'".concat(e[t],"' E-mail adresi geçersizdir. Lütfen kontrol ediniz."),s.abrupt("return",!1);case 9:case"end":return s.stop()}}),s)})))()},valRequired:function(t,e){""==e[t]||null==e[t]?(this.val[t].type="is-danger",this.val[t].message="Bu alanı doldurmanız zorunludur."):(this.val[t].type="is-success",this.val[t].message="Bu adımı başarıyla tamamladınız.")}},mounted:function(){if(this.edit){this.form.displayName=this.user.name,this.form.email=this.user.email,this.form.id=this.user.id,this.form.isAdmin=this.user.isAdmin,this.form.disabled=this.user.isDisabled;var t=this.user.createdAt.split("/"),e=Object(m["a"])(t,3),a=e[0],s=e[1],i=e[2];this.createdAt=new Date("".concat(i,"-").concat(s,"-").concat(a)),this.form.createdAt=this.user.createdAt,this.user["last_seen"]&&(this.form["last_seen"]=this.user["last_seen"]),this.user.image&&(this.file=this.user.image)}}},A=b,w=a("2877"),y=Object(w["a"])(A,h,g,!1,null,null,null),k=y.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-field",{attrs:{label:"Tarih Aralığını Seçin"}},[a("b-datepicker",{attrs:{size:"is-small",position:"is-bottom-left","first-day-of-week":1,range:"",placeholder:"Tarih Aralığını Seçin"},model:{value:t.createdAt,callback:function(e){t.createdAt=e},expression:"createdAt"}})],1),a("div",{staticClass:"my-5 has-text-right"},[a("b-button",{attrs:{type:"is-primary is-light"}},[t._v("Gönder")])],1),t._m(0),t._m(1),t._m(2),a("hr"),a("ProfileCard",{staticStyle:{position:"inherit!important"},attrs:{firebase:t.firebase,picker:"",user:t.user}})],1)},_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"has-text-danger"},[a("small",{staticClass:"font-small"},[t._v("* Kullanıcının hangi tarihler arasındaki hareketliliğini görmek istiyorsanız o tarihler arasını seçin")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:" has-text-primary"},[a("small",{staticStyle:{"font-size":"11px"}},[t._v("* Ortalama 30m Sabit konum kabul edilmektedir.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:" has-text-primary"},[a("small",{staticStyle:{"font-size":"11px"}},[t._v("* 1 dakika üzerinde aynı konumda beklenirse konum kaydedilir.")])])}],C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile-card ",class:{"is-active-update":t.showModal}},[a("h1",[t._v(" "+t._s(t.activeUser.id!=t.user.id?"Kullanıcı Bilgileri":"Profil Sayfam")+" "),t.picker?t._e():a("b-tooltip",{attrs:{label:"Kapatmak için tıklayın",position:"is-left"}},[a("b-button",{attrs:{outlined:"",type:"is-light",size:"is-small"},on:{click:function(e){return t.$emit("close",!1)}}},[t._v(" X ")])],1)],1),a("div",{staticClass:"is-flex is-justify-content-space-between px-2"},[a("div",[a("b-tooltip",{attrs:{label:"Profil Resmi",position:"is-left"}},[t.user.image?a("img",{staticStyle:{width:"50px","border-radius":"50rem"},attrs:{src:t.user.image,alt:t.user.name}}):t._e()])],1),a("b-button",{staticClass:"m-3",attrs:{type:"is-primary is-light",size:"is-small"},on:{click:function(e){t.showModal=!0}}},[a("vue-fontawesome",{staticClass:"mr-2",attrs:{icon:"user"}}),t._v(" "+t._s(t.activeUser.id!=t.user.id?"Kullanıcıyı Düzenle":"Hesabımı Düzenle"))],1)],1),a("div",{staticClass:"profile-details-alignment"},[a("div",[a("strong",[t._v("Kullanıcı Adı :")]),t._v(" "),a("small",[t._v(t._s(t.user.name))])]),a("div",[a("strong",[t._v("E-mail Adresi :")]),t._v(" "),a("small",[t._v(t._s(t.user.email))])]),a("div",[a("strong",[t._v("Yetki Durumu :")]),a("small",[t._v(t._s(t.user.isAdmin?"Yetkili Kullanıcı":"Normal Kullanıcı"))])]),a("div",[a("strong",[t._v("Kullanıcı Durumu :")]),a("small",[t._v(t._s(t.user.isDisabled?"Pasif":"Aktif"))])]),a("div",[a("strong",[t._v("İşe Başlangıç Tarihi :")]),a("small",[t._v(t._s(t.user.createdAt))])])]),a("ModalApp",{attrs:{name:"profile",firebase:t.firebase,edit:"",user:t.user,comp:"SignUp"},on:{"edit:user":t.editedUser},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}})],1)},L=[],S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{"can-cancel":!1,"full-screen":"",width:640},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("div",{staticClass:"is-flex is-align-items-end is-justify-content-space-between"},[a("b-tooltip",{attrs:{position:"is-right",label:"Geri"}},[a("b-button",{staticClass:"has-text-white",attrs:{type:"is-primary is-light"},on:{click:function(e){t.modal=!1}}},[a("vue-fontawesome",{attrs:{icon:"arrow-left"}})],1)],1),a("b-tooltip",{attrs:{position:"is-left",label:"Kapat"}},[a("b-button",{staticClass:"has-text-white",attrs:{type:"is-danger is-light"},on:{click:function(e){t.modal=!1}}},[t._v("X")])],1)],1),a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a(t.comp,{tag:"component",attrs:{edit:t.edit,user:t.user,firebase:t.firebase},on:{close:function(e){t.modal=!1},"success:edit":function(e){t.modal=!1,t.$emit("edit:user",e)},success:function(e){t.modal=!1,t.$emit("insert:user",e)},"input:createdAt":function(e){return t.$emit("input:createdAt",e)}}})],1)])])},E=[],z={components:{SignUp:k,DatePicker:P},props:{value:{default:!1},comp:{default:"SignUp"},firebase:{default:function(){}},edit:{default:!1,type:Boolean},user:{default:function(){}}},data:function(){return{modal:!1}},watch:{value:{deep:!0,handler:function(t){this.modal=t}},modal:{deep:!0,handler:function(t){this.$emit("input",t)}}}},I=z,D=Object(w["a"])(I,S,E,!1,null,null,null),M=D.exports,O={name:"profile",components:{ModalApp:M},props:{user:{default:function(){}},activeUser:{default:function(){return{id:-1}}},firebase:{default:function(){}},picker:{default:!1,type:Boolean},classHeader:{default:"leaderboard"}},watch:{showModal:function(t){t?this.setModal("add"):this.setModal("remove")}},methods:{editedUser:function(t){this.$emit("success:edit",t)},setModal:function(t){var e=this,a=document.getElementsByClassName(this.classHeader);console.log(a),0!=a.length&&a.forEach((function(a){console.log(t,"burada",e.classHeader,a),setTimeout((function(){"add"==t?a.classList.add("active-modal"):a.classList.remove("active-modal")}),250)}))}},data:function(){return{showModal:!1}}},B=O,T=(a("4ce9"),Object(w["a"])(B,C,L,!1,null,null,null)),U=T.exports,j={components:{ProfileCard:U},data:function(){return{createdAt:[]}},props:{user:{default:function(){}},firebase:{default:function(){}}},watch:{createdAt:function(t){0!=t.length&&(console.log("data",t),this.$emit("input:createdAt",{start:new Intl.DateTimeFormat(["ban","id"]).format(t[0]),end:new Intl.DateTimeFormat(["ban","id"]).format(t[1])}))}}},F=j,R=(a("0529"),Object(w["a"])(F,x,_,!1,null,null,null)),P=R.exports,H={components:{SignUp:k,DatePicker:P},props:{value:{default:!1},comp:{default:"SignUp"},firebase:{default:function(){}},edit:{default:!1,type:Boolean},user:{default:function(){}}},data:function(){return{modal:!1}},watch:{value:{deep:!0,handler:function(t){this.modal=t}},modal:{deep:!0,handler:function(t){this.value=t,this.$emit("input",t)}}}},V=H,G=Object(w["a"])(V,p,f,!1,null,null,null),N=G.exports,K={name:"user-list",components:{Modal:N},props:{nonFixed:{default:!1,type:Boolean},realLoading:{default:!1,type:Boolean},firebase:{default:function(){},required:!0},value:{default:function(){return[]}},user:{default:function(){}},search:{default:""}},watch:{search:{deep:!0,handler:function(t){this.controlList(t)}},value:{deep:!0,handler:function(t){console.log("deeeepppp",t),this.userList=t}},realLoading:function(t){console.log(t),this.isLoading=t}},data:function(){return{datePickerModal:!1,top:0,show:!0,isLoading:!1,userList:[],settmout:-1,selectedItem:{event:"",collection:"",field:"",symbol:"",id:"",data:{}},list:{x:5,y:3.5}}},methods:{setUserDetail:function(t){this.$emit("detail",t)},drag:function(t){0!=t.x&&0!=t.y&&(this.list.x=t.x,this.list.y=t.y,console.log(t))},setUserListOne:function(t,e,a,s,i,n){this.selectedItem.event=t,this.selectedItem.collection=e,this.selectedItem.field=a,this.selectedItem.symbol=s,this.selectedItem.id=i,this.selectedItem.data=n,this.datePickerModal=!0},setDatePicker:function(t){console.log(t);var e=t.start.split("/"),a=Object(m["a"])(e,3),s=a[0],i=a[1],n=a[2],r=t.end.split("/"),l=Object(m["a"])(r,3),c=l[0],u=l[1],d=l[2],p={start:"".concat(n,"-").concat(i,"-").concat(s),end:"".concat(d,"-").concat(u,"-").concat(c)};if(console.log("çalişti"),this.nonFixed){var f=this.userList.map((function(t){return t.id})).indexOf(this.selectedItem.id);-1!=f&&this.$emit("detail",Object(o["a"])(Object(o["a"])({},this.userList[f]),p))}else this.$emit(this.selectedItem.event,this.selectedItem.collection,this.selectedItem.field,this.selectedItem.symbol,this.selectedItem.id,this.selectedItem.data,p);this.datePickerModal=!1},controlList:function(t){-1!=this.settmout&&clearTimeout(this.settmout);var e=this;this.settmout=setTimeout((function(){e.setUserList("user","name",">=",t)}),1e3)},getConnectFirestoreWhere:function(t,e,a,s){var i=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i.firebase.firestore().collection(t).where(e,a,s).get();case 2:return r=n.sent,n.abrupt("return",r.docs.map((function(t){return t.data()})));case 4:case"end":return n.stop()}}),n)})))()},getConnectFirestore:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.firebase.firestore().collection(t).get();case 2:return s=a.sent,a.abrupt("return",s.docs.map((function(t){return t.data()})));case 4:case"end":return a.stop()}}),a)})))()},setReSize:function(){var t=this;setTimeout((function(){var e=document.querySelector(".leaderboard"),a=e.offsetHeight;console.log(a,window.innerHeight),a<window.innerHeight?t.top=a/2+20:t.top=a/2-30}),500)},setUserList:function(t,e,a,s){var i=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i.isLoading=!0,n.next=3,i.getConnectFirestoreWhere(t,e,a,s);case 3:r=n.sent,console.log(i.userList),i.$emit("input",r),i.userList=r,i.isLoading=!1,i.setReSize();case 9:case"end":return n.stop()}}),n)})))()}},mounted:function(){window.addEventListener("resize",this.setReSize),this.setUserList("user","isDisabled","==",!1)}},Z=K,X=(a("8ea7"),Object(w["a"])(Z,u,d,!1,null,null,null)),Y=X.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"maps",tabindex:"0"}},[0==t.heatMapPoints.length&&0==t.points.length||!t.showMap?t.showMap?s("div",{staticStyle:{"text-align":"center"}},[s("div",{staticClass:"mb-5"},[s("vue-fontawesome",{staticClass:"mx-2",staticStyle:{"font-size":"56px",color:"#7C83FD"},attrs:{icon:"search-location"}}),s("vue-fontawesome",{staticClass:"mx-2",staticStyle:{"font-size":"56px",color:"#7C83FD"},attrs:{icon:"sad-tear"}})],1),s("div",[s("strong",[t._v("Bu Kullanıcının gösterilecek bir hareketliliği bulunmamaktadır.")])])]):s("div",[s("b-loading",{attrs:{"is-full-page":""},model:{value:t.mapLoading,callback:function(e){t.mapLoading=e},expression:"mapLoading"}}),s("div",[s("strong",[t._v("Kullanıcı haritası yükleniyor..")])])],1):s("l-map",{staticStyle:{width:"100vw",height:"calc(100vh - 3.25rem)"},attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions},on:{"update:zoom":[function(e){t.zoom=e},t.zoomUpdate],"update:center":[function(e){t.center=e},t.centerUpdate]}},[s("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t.show.stayLocation?s("div",[t._l(t.stayLocation,(function(e,a){return s("l-marker",{key:a,attrs:{icon:t.icon3,"lat-lng":t.latLng(e.lat,e.lng)}},[s("l-popup",[s("div",{staticClass:"has-background-primary has-text-white px-2 p-1 is-rounded mt-5"},[t._v(" Sabit Konum ")]),s("div",{staticClass:"p-2",staticStyle:{"border-right":"1px solid black","border-left":"1px solid black"}},[s("div",[s("strong",{staticClass:"has-text-primary"},[t._v("Sabit Kaldığı Süre")])]),e.time?s("div",{staticClass:"mb-3"},[s("strong",[t._v(t._s(t.setTimer(e.time*e.data.length)))])]):t._e()]),s("div"),s("div",{staticClass:"has-background-success has-text-white px-2 p-1 is-rounded mb-2",on:{click:function(a){return t.innerClick({latitude:e.lat,longitude:e.lng})}}},[t._v(" Haritalar'da Aç ")])])],1)})),t.user["last_seen"]?s("l-marker",{attrs:{"lat-lng":t.latLng(t.user["last_seen"].latitude,t.user["last_seen"].longitude)}},[s("l-icon",{attrs:{"icon-size":[48,48],"icon-anchor":[16,37]}},[s("div",{staticClass:"marker"}),s("span",{staticClass:"beacon"})]),s("l-popup",[s("div",{staticClass:"has-background-primary has-text-white px-2 p-1 is-rounded mt-5"},[t._v(" Kullanıcı Bilgileri ")]),s("div",{staticClass:"p-2",staticStyle:{"border-right":"1px solid black","border-left":"1px solid black"}},[s("div",[s("strong",{staticClass:"has-text-primary"},[t._v("Saha Çalışanın Bilgileri")])]),s("div",{staticClass:"mb-3"},[s("strong",[t._v(t._s(t.user.name)+" ("+t._s(t.user.email)+")")])]),s("div",[s("strong",{staticClass:"has-text-primary"},[t._v("İşe Giriş Tarihi")])]),s("div",{staticClass:"mb-3"},[s("strong",[t._v(t._s(t.user.createdAt))])]),s("div",[s("strong",{staticClass:"has-text-primary"},[t._v("Yetki Düzeyi")])]),s("div",{staticClass:"mb-3"},[s("strong",[t._v(t._s(t.user.isAdmin?"Yönetici":"Çalışan"))])]),s("div",[s("strong",{staticClass:"has-text-primary"},[t._v("Son Konum Bilgi Saati")])]),s("div",{staticClass:"mb-3"},[s("strong",[t._v(t._s(t.setDate(t.user["last_seen"].time)))])])]),s("div"),s("div",{staticClass:"has-background-success has-text-white px-2 p-1 is-rounded mb-2",on:{click:function(e){return t.innerClick({latitude:t.user["last_seen"].latitude,longitude:t.user["last_seen"].longitude})}}},[t._v(" Haritalar'da Aç ")])])],1):t._e()],2):t._e(),t.show.roadMap?s("div",t._l(t.roadMap,(function(e,a){return s("l-marker",{key:a,attrs:{"lat-lng":t.latLng(e.lat,e.lng)}},[s("l-icon",{attrs:{"icon-size":[48,48],"icon-anchor":[16,37],"class-name":"someExtraClass"}},[s("div",{staticClass:"headline  has-text-white has-text-centered",class:{"has-background-black":a!=t.roadIndex,"has-background-success":a==t.roadIndex},staticStyle:{"font-weight":"900","font-size":"25px"}},[t._v(" "+t._s(a+1)+" "),e.count>1?s("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s("*"))]):t._e()]),s("img",{attrs:{src:t.road,width:"48"}})]),s("l-popup",[s("div",{staticClass:"has-background-primary has-text-white px-2 p-1 is-rounded mt-5"},[t._v(" Güzergahı(Rota) ")]),s("div",{staticClass:"p-2",staticStyle:{"border-right":"1px solid black","border-left":"1px solid black"}},[s("div",[s("strong",{staticClass:"has-text-primary"},[t._v("Kayıtlı Tarihi")])]),s("div",{staticClass:"mb-3"},[s("strong",[t._v(t._s(e.time))])]),s("div",[s("strong",{staticClass:"has-text-primary"},[t._v("Not:")])]),s("div",[s("strong",[t._v("Kullanıcı bu güzergah üzerinden gitmektedir.")])]),e.count>1?s("div",[s("strong",{staticClass:"has-text-primary"},[t._v("Harcanan süre:")])]):t._e(),e.count>1?s("div",[s("strong",[t._v(" Çalışan burada ortalama "+t._s(9*e.count)+"dk harcamıştır.")])]):t._e()]),s("div",{staticClass:"has-background-success has-text-white px-2 p-1 is-rounded mb-2",on:{click:function(a){return t.innerClick({latitude:e.lat,longitude:e.lng})}}},[t._v(" Haritalar'da Aç ")])])],1)})),1):t._e(),t.show.polyline?s("l-polyline",{attrs:{"lat-lngs":t.polylineLatLngs,color:"blue"}},[s("l-popup",{attrs:{content:"Çalışanın rota yolu"}})],1):t._e(),t.show.points?s("div",t._l(t.points,(function(e,a){return s("l-marker",{key:a,attrs:{icon:t.icon,"lat-lng":t.latLng(e.location.latitude,e.location.longitude)}},[s("l-popup",[s("div",{staticClass:"has-background-primary has-text-white px-2 p-1 is-rounded mt-5"},[t._v(" Görüşme Notları ")]),s("div",{staticClass:"p-2",staticStyle:{"border-right":"1px solid black","border-left":"1px solid black"}},[s("div",[s("strong",{staticClass:"has-text-primary"},[t._v("Kayıtlı Konum Adı")])]),s("div",{staticClass:"mb-3"},[s("strong",[t._v(t._s(""==e.name||null==e.name?"Kayıt adı bulunmamaktadır.":e.name))])]),s("div",[s("strong",{staticClass:"has-text-primary"},[t._v("Kayıtlı Tarihi")])]),s("div",{staticClass:"mb-3"},[s("strong",[t._v(t._s(e.date))])]),e.rating?s("div",[s("strong",{staticClass:"has-text-primary"},[t._v("Görüşme Puanı")])]):t._e(),e.rating?s("div",{staticClass:"mb-3"},[s("b-rate",{attrs:{"icon-pack":"fas","show-score":"",value:e.rating}})],1):t._e(),e.description?s("div",[s("strong",{staticClass:"has-text-primary"},[t._v("Not:")])]):t._e(),s("div",[s("strong",[t._v(t._s(e.description))])])]),s("div",{staticClass:"has-background-success has-text-white px-2 p-1 is-rounded mb-2",on:{click:function(a){return t.innerClick(e.location)}}},[t._v(" Haritalar'da Aç ")])])],1)})),1):t._e(),t.show.heatMapPoints?s("div",[s("Vue2LeafletHeatmap",{attrs:{"lat-lng":t.heatMapPoints,radius:20,"min-opacity":.25,"max-zoom":10,blur:20}})],1):t._e()],1),s("div",{staticClass:"count-data"},[s("span",{staticClass:"animate__animated animate__backInUp animate__delay-1s",on:{click:function(e){t.show.points=!t.show.points}}},[s("section",{class:{" has-background-danger":!t.show.points},staticStyle:{margin:"0 0 5px 0"}},[t._v(" Kayıtlı Konum ")]),s("div",[t._v(" "+t._s(t.points.length)+" "),s("img",{staticStyle:{margin:"0 5px"},attrs:{width:"30",src:a("a086"),alt:""}})])]),s("span",{staticClass:"animate__animated animate__backInUp animate__delay-1s",on:{click:function(e){t.show.stayLocation=!t.show.stayLocation}}},[s("section",{class:{" has-background-danger":!t.show.stayLocation},staticStyle:{margin:"0 0 5px 0"}},[t._v(" Sabit Konum ")]),s("div",[t._v(" "+t._s(t.stayLocation.length)+" "),s("img",{staticStyle:{margin:"0 5px"},attrs:{width:"30",src:a("294b"),alt:""}})])]),s("span",{staticClass:"animate__animated animate__backInUp animate__delay-1s",on:{click:function(e){t.show.heatMapPoints=!t.show.heatMapPoints}}},[s("section",{class:{" has-background-danger":!t.show.heatMapPoints},staticStyle:{margin:"0 0 5px 0"}},[t._v(" Isı Haritası ")]),s("div",[t._v(" "+t._s(t.heatMapPoints.length)+" "),s("img",{staticStyle:{margin:"0 5px"},attrs:{width:"30",src:a("c533"),alt:""}})])]),s("span",{staticClass:"animate__animated animate__backInUp animate__delay-1s",on:{click:function(e){t.show.roadMap=!t.show.roadMap}}},[s("section",{class:{" has-background-danger":!t.show.roadMap},staticStyle:{margin:"0 0 5px 0"}},[t._v(" Rota ")]),s("div",[t._v(" "+t._s(t.roadMap.length)+" "),s("img",{staticStyle:{margin:"0 5px"},attrs:{width:"30",src:a("61d7"),alt:""}})])]),s("span",{staticClass:"animate__animated animate__backInUp animate__delay-1s",on:{click:function(e){!t.show.roadMap&&t.show.roadMap,t.show.polyline=!t.show.polyline}}},[s("section",{class:{" has-background-danger":!t.show.polyline},staticStyle:{margin:"0 0 5px 0"}},[t._v(" Rota Yolu Çiz ")]),t._m(0)]),t.user["last_seen"]?s("span",{staticClass:"animate__animated animate__backInUp animate__delay-1s",on:{click:function(e){t.centerUpdate(t.latLng(t.user["last_seen"].latitude,t.user["last_seen"].longitude))}}},[s("section",{staticClass:"has-background-primary",staticStyle:{margin:"0 0 5px 0"}},[t._v(" Son Konum ")]),s("div",[s("vue-fontawesome",{attrs:{icon:"location-arrow"}})],1)]):t._e()])],1)},Q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v(" L "),s("img",{staticStyle:{margin:"0 5px"},attrs:{width:"30",src:a("1c4a"),alt:""}})])}],W=(a("4de4"),a("e11e")),q=a("2699"),$=a("a40a"),tt=a("4e2b"),et=a("f60f"),at=a("fbba"),st=a("635f"),it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"none"}},[t.ready?t._t("default"):t._e()],2)},nt=[],rt=(a("a9e3"),a("ef62")),lt=(a("a662"),window.L),ot={latLng:{type:Array,default:function(){return[]},custom:!1},minOpacity:{type:Number,custom:!0,default:.05},maxZoom:{type:Number,custom:!0,default:18},radius:{type:Number,custom:!0,default:25},blur:{type:Number,custom:!0,default:15},max:{type:Number,custom:!0,default:1},visible:{type:Boolean,custom:!0,default:!0}},ct={name:"LHeatmap",props:ot,data:function(){return{ready:!1}},mounted:function(){var t={};this.minOpacity&&(t.minOpacity=this.minOpacity),this.maxZoom&&(t.maxZoom=this.maxZoom),this.radius&&(t.radius=this.radius),this.blur&&(t.blur=this.blur),this.max&&(t.max=this.max),this.mapObject=lt.heatLayer(this.latLng,t),W["DomEvent"].on(this.mapObject,this.$listeners),Object(rt["b"])(this,this.mapObject,ot),this.ready=!0,this.parentContainer=Object(rt["a"])(this.$parent),this.parentContainer.addLayer(this,!this.visible)},beforeDestroy:function(){this.parentContainer.removeLayer(this)},methods:{setMinOpacity:function(t){this.mapObject.setOptions({minOpacity:t})},setMaxZoom:function(t){this.mapObject.setOptions({maxZoom:t})},setRadius:function(t){this.mapObject.setOptions({radius:t})},setBlur:function(t){this.mapObject.setOptions({blur:t})},setMax:function(t){this.mapObject.setOptions({max:t})},setVisible:function(t,e){t!==e&&(t?this.parentContainer.addLayer(this):this.parentContainer.removeLayer(this))},addLatLng:function(t){this.mapObject.addLatLng(t)}}},ut=ct,dt=Object(w["a"])(ut,it,nt,!1,null,null,null),mt=dt.exports,pt=a("c3e7"),ft=a("61d7"),ht=a("294b"),gt=a("1c4a"),vt=a("088b"),bt={name:"Example",components:{LMap:q["a"],LTileLayer:$["a"],LMarker:tt["a"],LPopup:et["a"],LIcon:at["a"],LPolyline:st["a"],Vue2LeafletHeatmap:mt},watch:{mapLoading:function(t){if(console.log(t),t){for(var e=[],a=0,s=1;s<this.heatMapPoints.length-1;s++){var i=this.heatMapPoints[s-1],n=this.heatMapPoints[s],r=i.lat-n.lat,l=i.lng-n.lng;if(0==e.length)e.push({lat:0,lng:0,data:[],time:7}),e[0].data.push({lat:n.lat,lng:n.lng,time:7}),e[0].lat=n.lat,e[0].lng=n.lng;else{var o=3e-4;r<=o&&r>=-o&&l<=o&&l>=-o?e[e.length-1].data.push({lat:n.lat,lng:n.lng,time:7}):(e.push({lat:0,lng:0,data:[],time:7}),e[e.length-1].data.push({lat:n.lat,lng:n.lng,time:7}),e[e.length-1].lat=n.lat,e[e.length-1].lng=n.lng)}}console.log(e,a),this.timerLocation=e}},points:{deep:!0,handler:function(){var t=this;console.log("points"),this.showMap=!1,this.center=Object(W["latLng"])(this.lat,this.lng),this.currentCenter=Object(W["latLng"])(this.lat,this.lng),setTimeout((function(){t.showMap=!0}),250)}},realLoading:function(t){this.isLoading=t}},props:{roadMap:{default:function(){return[]}},heatMapPoints:{default:function(){return[]}},points:{default:function(){return[]}},lat:{default:0},lng:{default:0},realLoading:{default:!1},user:{default:function(){}}},computed:{mapLoading:function(){return!this.showMap},stayLocation:function(){return this.timerLocation.filter((function(t){return t.time*t.data.length>60}))},polylineLatLngs:function(){return this.heatMapPoints.map((function(t){return[t.lat,t.lng]}))}},data:function(){return{roadIndex:0,sleep:ht,polyline:gt,road:ft,show:{stayLocation:!0,heatMapPoints:!0,points:!0,roadMap:!1,polyline:!1},timerLocation:[],icon:Object(W["icon"])({iconUrl:pt,iconSize:[48,48],iconAnchor:[16,37]}),circle:Object(W["icon"])({iconUrl:vt,iconSize:[32,32],iconAnchor:[16,37]}),icon2:Object(W["icon"])({iconUrl:ft,iconSize:[48,48],iconAnchor:[16,37]}),icon3:Object(W["icon"])({iconUrl:ht,iconSize:[52,52],iconAnchor:[16,37]}),latLng:W["latLng"],zoom:13,center:Object(W["latLng"])(this.lat,this.lng),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; Made it by <a href="https://wwww.eralpsoftware.com">Eralp Software</a>',withPopup:Object(W["latLng"])(47.41322,-1.219482),withTooltip:Object(W["latLng"])(47.41422,-1.250482),currentZoom:11.5,currentCenter:Object(W["latLng"])(47.41322,-1.219482),showParagraph:!1,mapOptions:{zoomSnap:.5},showMap:!0}},methods:{setDate:function(t){if(t){var e=new Date(t);return e.toLocaleString()}return"Bilgi Yok."},setTimer:function(t){var e=parseInt(t,10),a=Math.floor(e/3600),s=Math.floor((e-3600*a)/60),i=e-3600*a-60*s;return a<10&&(a="0"+a),s<10&&(s="0"+s),i<10&&(i="0"+i),a+":"+s+":"+i},zoomUpdate:function(t){this.currentZoom=t},centerUpdate:function(t){this.center=t,this.zoom=21},showLongText:function(){this.showParagraph=!this.showParagraph},innerClick:function(t){this.$buefy.dialog.confirm({title:"Görünüm Seç",message:"Haritalar'da hangi formatta açmak istiyorsunuz? <br> <small>Eğer Sokak görünümünde siyah ekran açılıyorsa o konumda fotoğraf bulunmamaktadır. Lütfen Haritalar'da Aç seçeneğini Seçiniz<small/>",cancelText:"Haritalar'da Aç",confirmText:"Sokak Görünümü'nde Aç",type:"is-success",hasIcon:!0,onConfirm:function(){window.open("http://maps.google.com/maps?q=&layer=c&cbll=".concat(t.latitude,",").concat(t.longitude),"_blank")},onCancel:function(){window.open("https://www.google.com/maps/@".concat(t.latitude,",").concat(t.longitude,",21z"),"_blank")}})}},mounted:function(){var t=this,e=document.getElementById("maps"),a=this;e.addEventListener("keyup",(function(e){if(console.log(e),t.roadMap.length>0)if("ArrowRight"==e.code){a.roadMap.length-1==a.roadIndex?a.roadIndex=0:a.roadIndex++;var s=a.roadIndex;t.center=Object(W["latLng"])(a.roadMap[s].lat,a.roadMap[s].lng),a.zoom=17}else if("ArrowLeft"==e.code){0==a.roadIndex?a.roadIndex=a.roadMap.length-1:a.roadIndex--;var i=a.roadIndex;t.center=Object(W["latLng"])(a.roadMap[i].lat,a.roadMap[i].lng),a.zoom=17}console.log(a.roadIndex,a.center)}))}},At=bt,wt=(a("54d9"),Object(w["a"])(At,J,Q,!1,null,null,null)),yt=wt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-time animate__animated animate__backInRight"},[a("b-tooltip",{attrs:{position:"is-left",label:"Kullanıcıdan alınan son verinin zamanı"}},[t._v(" Zmn: "),a("i",[t._v(" "+t._s(t.time))])])],1)},xt=[],_t={props:{time:{default:""}}},Ct=_t,Lt=(a("ee95"),Object(w["a"])(Ct,kt,xt,!1,null,null,null)),St=Lt.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-info animate__animated animate__backInRight",class:{"is-disabled":t.userInfo.isDisabled}},[t.userInfo.image?a("img",{staticStyle:{"border-radius":"50rem"},attrs:{src:t.userInfo.image,width:"30",alt:t.userInfo.name}}):t._e(),a("b-tooltip",{attrs:{position:"is-top",label:"Haritasını incelediğiniz kullanıcı"}},[a("div",[t.userInfo.isAdmin?a("b-tooltip",{attrs:{label:"Yönetici Hesabı"}},[a("span",[t._v("★")])]):t._e(),t._v(" "+t._s(t.userInfo.name)+" "),a("div",[a("small",{staticStyle:{"font-size":"10px"}},[t._v("("+t._s(t.userInfo.email)+")")])])],1)]),a("div",[a("b-tooltip",{staticStyle:{margin:"0 5px"},attrs:{label:"Verileri Yenile",position:"is-left"}},[a("b-button",{attrs:{type:"is-primary",size:"is-small"},on:{click:function(e){return t.$emit("refresh")}}},[a("vue-fontawesome",{attrs:{icon:"sync-alt"}})],1)],1),a("b-tooltip",{staticStyle:{margin:"0 5px"},attrs:{label:"Kullanıcı profilini görmek için tıklayın",position:"is-left"}},[a("b-button",{attrs:{type:"is-warning",size:"is-small"},on:{click:function(e){return t.$emit("set:profile",t.userInfo)}}},[a("vue-fontawesome",{attrs:{icon:"user"}})],1)],1),t.userInfo.isDisabled?a("b-tooltip",{attrs:{label:"Kullanıcıyı tekrardan aktif et",position:"is-left"}},[a("b-button",{attrs:{type:"is-success",size:"is-small"},on:{click:function(e){return t.setConnectFirestoreWhere("user",t.userInfo.id,Object.assign({},t.userInfo,{isDisabled:!1}))}}},[t._v("✓")])],1):a("b-tooltip",{staticStyle:{margin:"0 5px"},attrs:{label:"Kullanıcıyı Sistemden Kaldır",position:"is-left"}},[a("b-button",{attrs:{type:"is-danger",size:"is-small"},on:{click:function(e){return t.setConnectFirestoreWhere("user",t.userInfo.id,Object.assign({},t.userInfo,{isDisabled:!0}))}}},[t._v("X")])],1)],1)],1)},zt=[],It={props:{userInfo:{default:function(){return{name:""}}},firebase:{default:function(){}}},methods:{setConnectFirestoreWhere:function(t,e,a){var s=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var n,r,o,c,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:s.$emit("updated",!1),n=s,r="Are you sure you want to <b>delete</b> your account? This action cannot be undone.",o="Deleting account",c="Delete Account",u="is-danger",a.isDisabled||(r="Kullanıcıyı tekrardan aktif etmek üzeresiniz. Bunu yapmak istediğinize emin misiniz?",o="Kullanıcıyı Yeniden Aktif Et",c="Aktif Et",u="is-success"),s.$buefy.dialog.confirm({title:o,message:r,confirmText:c,type:u,hasIcon:!0,onConfirm:function(){var i=Object(l["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.firebase.firestore().collection(t).doc(e).set(a);case 2:s.$emit("delete:user",a),s.$buefy.toast.open({duration:5e3,message:"İşleminiz başarıyla gerçekleştirildi.",type:"is-success"});case 4:case"end":return i.stop()}}),i)})));function n(){return i.apply(this,arguments)}return n}(),onCancel:function(){n.$emit("updated",!0)}});case 8:case"end":return i.stop()}}),i)})))()}}},Dt=It,Mt=(a("a203"),Object(w["a"])(Dt,Et,zt,!1,null,null,null)),Ot=Mt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"has-background-white p-5 animate__animated animate__flipInX",staticStyle:{width:"100vh","max-width":"450px"}},[a("div",{staticClass:"mb-4",staticStyle:{"font-size":"24px"}},[a("strong",{on:{click:function(e){t.form.email="gurhanarslan@gmail.com",t.form.password="123456"}}},[t._v("Giriş Yap")])]),a("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("b-field",{attrs:{label:"Mail Adresi","validation-message":"Bu alanı doldurmanız zorunludur.",type:t.val.email.type,message:t.val.email.message}},[a("b-input",{attrs:{type:"email",maxlength:"30"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("b-field",{attrs:{type:t.val.password.type,message:t.val.password.message,label:"Şifreniz"}},[a("b-input",{attrs:{"validation-message":"Bu alanı doldurmanız zorunludur.",type:"password",required:"","password-reveal":""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("div",{staticStyle:{"text-align":"right","margin-top":"5px"}},[a("b-button",{staticStyle:{display:"block",width:"100%"},attrs:{disabled:t.loading,loading:t.loading,type:"is-primary"},on:{click:t.onSubmit}},[t._v("Giriş Yap")])],1)],1)])},Tt=[],Ut={data:function(){return{loading:!1,val:{displayName:{type:"",message:""},email:{type:"",message:""},password:{type:"",message:""}},form:{id:-1,email:"",emailVerified:!1,phoneNumber:"",password:"",displayName:"",disabled:!1,isAdmin:!1}}},props:{firebase:{default:function(){}}},methods:{getConnectFirestoreWhere:function(t,e,a,s){var i=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i.firebase.firestore().collection(t).where(e,a,s).get();case 2:return r=n.sent,n.abrupt("return",r.docs.map((function(t){return t.data()})));case 4:case"end":return n.stop()}}),n)})))()},controlValidation:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.valRequired("email",t);case 2:return a.next=4,e.valRequired("password",t);case 4:return a.abrupt("return","done");case 5:case"end":return a.stop()}}),a)})))()},valRequired:function(t,e){""==e[t]?(this.val[t].type="is-danger",this.val[t].message="Bu alanı doldurmanız zorunludur."):(this.val[t].type="is-success",this.val[t].message="Bu adımı başarıyla tamamladınız.")},onSubmit:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.controlValidation(t.form);case 3:"is-success"==t.val.email.type&&"is-success"==t.val.password.type?t.initialLogin(t.form.email,t.form.password):(t.$buefy.toast.open({duration:5e3,message:"Tüm alanları eksiksiz doldurunuz!",type:"is-danger"}),t.loading=!1);case 4:case"end":return e.stop()}}),e)})))()},initialLogin:function(t,e){var a=this;this.firebase.auth().signInWithEmailAndPassword(t,e).then(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){var s,i,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.user,t.next=3,a.getConnectFirestoreWhere("user","id","==",s.uid);case 3:i=t.sent,0==i.length?a.$buefy.dialog.alert({title:"Giriş Hatalı",message:"Böyle bir kullanıcı bulunamadı.",type:"is-danger",hasIcon:!0,icon:"times-circle",iconPack:"fa",ariaRole:"alertdialog",ariaModal:!0}):i[0].isAdmin?(n=(new Date).getTime(),r=(new Date).setTime(n+6e6),localStorage.setItem("expired",r),localStorage.setItem("user",JSON.stringify(i[0])),a.$emit("success",i[0]),a.$buefy.toast.open({duration:5e3,message:"Giriş Başarıyla gerçekleştirildi!",type:"is-success"})):a.$buefy.dialog.alert({title:"Giriş Hatalı",message:"Giriş Yetkiniz Bulunmamaktadır.",type:"is-danger",hasIcon:!0,icon:"times-circle",iconPack:"fa",ariaRole:"alertdialog",ariaModal:!0}),a.loading=!1;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var e=t.code;"auth/invalid-email"==e?a.$buefy.dialog.alert({title:"Giriş Hatalı",message:"E-mail adresinizi eksik veya yanlış girdiniz.",type:"is-danger",hasIcon:!0,icon:"times-circle",iconPack:"fa",ariaRole:"alertdialog",ariaModal:!0}):a.$buefy.dialog.alert({title:"Giriş Hatalı",message:"Kullanıcı adı veya şifreniz yanlış.",type:"is-danger",hasIcon:!0,icon:"times-circle",iconPack:"fa",ariaRole:"alertdialog",ariaModal:!0}),a.loading=!1}))}}},jt=Ut,Ft=Object(w["a"])(jt,Bt,Tt,!1,null,null,null),Rt=Ft.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{staticStyle:{"z-index":"502!important"},attrs:{"fixed-top":""},scopedSlots:t._u([{key:"brand",fn:function(){return[a("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/"}}},[a("img",{attrs:{src:"https://www.eralpsoftware.com/images/EralpSoftware.png",alt:"ES"}})])]},proxy:!0},{key:"start",fn:function(){return[a("b-navbar-item",{attrs:{active:"map"==t.layout},on:{click:function(e){return t.$emit("layout","map","missionsList")}}},[t._v(" Ana Sayfa ")]),a("b-navbar-dropdown",{attrs:{label:"  Saha Ekibi "}},[a("b-navbar-item",{on:{click:function(e){return t.$emit("show-modal",!0)}}},[t._v(" Saha Çalışanı Ekle ")]),a("b-navbar-item",{on:{click:function(e){t.$emit("layout","map","missionsList"),t.$emit("close",!t.show)}}},[t._v(" Saha Çalışanlarını "+t._s(t.show?"Gösterme":"Göster")+" ")])],1),a("b-navbar-dropdown",{attrs:{label:"Görevlendirmeler"}},[a("b-navbar-item",{on:{click:function(e){return t.$emit("layout","missions","missionsList")}}},[t._v(" Görevlendirmeler ")]),a("b-navbar-item",{on:{click:function(e){return t.$emit("layout","missions","newMissions")}}},[t._v(" İş Emri Ver ")])],1),a("b-navbar-item",{attrs:{active:"view-sales"==t.layout},on:{click:function(e){return t.$emit("layout","view-sales","View")}}},[t._v(" Saha İzleme ")])]},proxy:!0},{key:"end",fn:function(){return[a("b-navbar-item",{attrs:{tag:"div"}},[a("span",{on:{click:function(e){return t.$emit("set:profile",t.user)}}},[a("b-tooltip",{staticClass:"mx-4",attrs:{position:"is-left",label:"Profilim"}},[t.user.image?a("img",{staticStyle:{width:"30px","border-radius":"50rem"},attrs:{src:t.user.image,alt:""}}):a("vue-fontawesome",{staticStyle:{"font-size":"24px",color:"#7957d5"},attrs:{icon:"user"}})],1)],1),a("b-dropdown",{attrs:{position:"is-bottom-left",scrollable:""},scopedSlots:t._u([{key:"trigger",fn:function(){return[a("span",{staticStyle:{"border-left":"1px solid #dedede","border-right":"1px solid #dedede",position:"relative"}},[a("small",{staticClass:" has-text-white px-1",class:t.notifyCount>0?"has-background-danger":"has-background-black",staticStyle:{"border-radius":"50rem",position:"absolute",right:"6px",top:"-15px"}},[t._v(t._s(t.notifyCount))]),a("b-tooltip",{staticClass:"mx-4",attrs:{position:"is-left",label:"Bildirimlerim"}},[a("vue-fontawesome",{class:t.notifyCount>0?"has-text-danger":"has-text-black",staticStyle:{"font-size":"24px"},attrs:{icon:"bell"}})],1)],1)]},proxy:!0}]),model:{value:t.isPublic,callback:function(e){t.isPublic=e},expression:"isPublic"}},[0!=t.notify.length?a("div",[a("div",{staticClass:"has-text-right pb-1 px-2",staticStyle:{"border-bottom":"1px solid #dedede"}},[a("b-button",{attrs:{type:"is-danger",size:"is-small"},on:{click:function(e){return t.$emit("cleanNotify")}}},[t._v("Temizle")])],1),t._l(t.notify,(function(e,s){return a("b-dropdown-item",{key:s,attrs:{"aria-role":"listitem"}},[a("div",{staticClass:"media is-flex is-justify-content-space-between is-align-items-center",on:{click:function(e){return t.$emit("read",s)}}},[a("vue-fontawesome",{class:e.isRead?"has-text-grey":e.type,staticStyle:{"font-size":"24px"},attrs:{icon:e.icon}}),a("div",{staticClass:"media-content px-4"},[a("h3",{class:e.isRead?"has-text-grey":e.type},[t._v("Bildirim")]),a("small",{class:e.isRead?"has-text-grey":e.type},[t._v(t._s(e.message))]),a("div",[a("small",{class:e.isRead?"has-text-grey":e.type},[t._v(t._s(e.time))])])])],1)])}))],2):a("div",{staticClass:"has-text-centered p-5"},[a("small",[t._v("Yeni Bildirimin Yok")])])]),a("span",{on:{click:function(e){return t.$emit("logout",!0)}}},[a("b-tooltip",{staticClass:"mx-4",attrs:{position:"is-left",label:"Çıkış Yap"}},[a("vue-fontawesome",{staticStyle:{"font-size":"24px",color:"#f14668"},attrs:{icon:"sign-out-alt"}})],1)],1)],1)]},proxy:!0}])})},Ht=[],Vt={computed:{notifyCount:function(){return this.notify.filter((function(t){return!t.isRead})).length}},props:{time:{default:""},layout:{default:""},user:{default:function(){}},notify:{default:function(){return[]}},show:{default:!1}},data:function(){return{isPublic:!1}}},Gt=Vt,Nt=Object(w["a"])(Gt,Pt,Ht,!1,null,null,null),Kt=Nt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"columns is-desktop mt-2"},[a("div",{staticClass:"column is-one-third-desktop is-thirds-thirds-tablet"},[a("UserList",{attrs:{"non-fixed":"",user:t.user,firebase:t.firebase},on:{detail:t.setDetail}})],1),a("div",{staticClass:"column  is-two-third-desktop is-two-thirds-tablet mt-2"},[null!=t.userDetail.userInfo?a("div",{staticClass:"columns"},[a("div",{staticClass:"column map-framework has-background-white"},[a("div"),a("p",{staticClass:"has-text-dark line-height-3 px-2",staticStyle:{border:"1px solid #dedede"}},[t._v(" Çalışan Adı : "),a("strong",{staticClass:"has-text-dark"},[t._v(t._s(t.userDetail.userInfo.name)+" ")])]),a("p",{staticClass:"has-text-dark line-height-3 px-2",staticStyle:{border:"1px solid #dedede"}},[t._v(" Çalışan Mail Adresi : "),a("strong",{staticClass:"has-text-dark"},[t._v(t._s(t.userDetail.userInfo.email))])]),a("p",{staticClass:"has-text-dark line-height-3 px-2",staticStyle:{border:"1px solid #dedede"}},[t._v(" İşe Giriş Tarihi : "),a("strong",{staticClass:"has-text-dark"},[t._v(t._s(t.userDetail.userInfo.createdAt))])]),a("p",{staticClass:"has-text-dark line-height-3 px-2",staticStyle:{border:"1px solid #dedede"}},[t._v(" Çalışanın Durumu : "),a("strong",{class:{"has-text-danger":t.userDetail.userInfo.isDisabled,"has-text-success":!t.userDetail.userInfo.isDisabled}},[t._v(t._s(t.userDetail.userInfo.isDisabled?"İşten Çıkarılmış":"Çalışıyor"))])]),t.userDetail.userInfo["last_seen"]?a("p",{staticClass:"has-text-dark line-height-3 px-2",staticStyle:{border:"1px solid #dedede"}},[t._v(" Son Aktif Olduğu Süre : "),a("strong",{staticClass:"has-text-dark"},[t._v(t._s(t.userDetail.userInfo["last_seen"].time))])]):t._e(),a("p",{staticClass:"has-text-dark line-height-3 px-2 is-flex is-align-items-center",staticStyle:{border:"1px solid #dedede"}},[t._v(" Görev : "),a("b-button",{staticClass:"mx-2",attrs:{size:"is-small",type:"is-danger is-light"},on:{click:function(e){t.activeModal="newMissions",t.missionModal=!0}}},[t._v("+ Görev Ekle")])],1),a("p",{staticClass:"has-text-dark line-height-3 px-2 is-flex is-align-items-center",staticStyle:{border:"1px solid #dedede"}},[t._v(" Harita : "),a("b-button",{staticClass:"mx-2",attrs:{size:"is-small",type:"is-warning is-light"},on:{click:function(e){return t.setUserHeatMap("click","locations","id","==",t.userDetail.userInfo.id,t.userDetail.userInfo,{start:t.userDetail.userInfo.start,end:t.userDetail.userInfo.end})}}},[a("vue-fontawesome",{attrs:{icon:"location-arrow"}}),t._v(" Kullanıcı Haritasını Görüntüle")],1)],1)]),t.userDetail.userInfo["last_seen"]&&!t.missionModal?a("div",{staticClass:"column map-framework has-background-white"},[a("p",{staticClass:"has-text-dark my-2",staticStyle:{"font-weight":"700","font-size":"1.3rem"}},[t._v(" Kullanıcının Son Konumu "),a("span",{staticStyle:{float:"right"},on:{click:function(e){t.activeModal="last_seen",t.fullScreenModal=!0}}},[a("b-tooltip",{attrs:{type:"is-dark",position:"is-left",label:"Genişlet"}},[a("vue-fontawesome",{attrs:{icon:"expand-arrows-alt"}})],1)],1)]),a("l-map",{staticStyle:{width:"100%",height:"35vh"},attrs:{zoom:21,center:t.latLng(t.userDetail.userInfo["last_seen"].latitude,t.userDetail.userInfo["last_seen"].longitude),options:t.mapOptions}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),a("l-marker",{attrs:{"lat-lng":t.latLng(t.userDetail.userInfo["last_seen"].latitude,t.userDetail.userInfo["last_seen"].longitude)}},[a("l-popup",[a("div",{staticClass:"has-background-primary has-text-white px-2 p-1 is-rounded mt-5"},[t._v(" Son Konum ")])]),a("l-icon",{attrs:{"icon-size":[48,48],"icon-anchor":[16,37]}},[a("div",{staticClass:"marker"}),a("span",{staticClass:"beacon"})])],1)],1)],1):t._e()]):t._e(),a("div",{staticClass:"columns"},[0==t.userDetail.userTasks.length||t.missionModal?t._e():a("div",{staticClass:"column map-framework has-background-white mt-2"},[a("div",{staticClass:"is-flex is-justify-content-flex-end"},[a("div",{staticClass:"has-text-right"},[a("b-field",[a("b-select",{attrs:{size:"is-small",placeholder:"Select a character"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("option",{attrs:{selected:""},domProps:{value:-1}},[t._v("Hepsini Göster ("+t._s(t.userDetail.userTasks.length)+")")]),a("option",{domProps:{value:0}},[t._v("Sadece Bekleyen Görevleri Göster ("+t._s(t.showTaskLength(t.userDetail.userTasks,0))+")")]),a("option",{domProps:{value:2}},[t._v("Sadece Ertelenenleri Göster ("+t._s(t.showTaskLength(t.userDetail.userTasks,2))+")")]),a("option",{domProps:{value:3}},[t._v("Sadece İptal Edilenleri Göster ("+t._s(t.showTaskLength(t.userDetail.userTasks,3))+")")]),a("option",{domProps:{value:1}},[t._v("Sadece Tamamlananları Göster ("+t._s(t.showTaskLength(t.userDetail.userTasks,1))+")")])])],1)],1),a("div",[a("span",{staticClass:"mx-1 p-2",class:{"has-background-primary ":this.filterTaskView.includes("map")},staticStyle:{"border-radius":"5px"},on:{click:function(e){return t.filterPush("map")}}},[a("b-tooltip",{attrs:{type:"is-dark",position:"is-left",label:"Harita Görünümü"}},[a("vue-fontawesome",{class:{"has-text-white":this.filterTaskView.includes("map"),"has-text-primary":!this.filterTaskView.includes("map")},attrs:{icon:"street-view"}})],1)],1),a("span",{staticClass:"mx-1 p-2",class:{"has-background-danger has-text-white":this.filterTaskView.includes("list")},staticStyle:{"border-radius":"5px"},on:{click:function(e){return t.filterPush("list")}}},[a("b-tooltip",{attrs:{type:"is-dark",position:"is-left",label:"Liste Görünümü"}},[a("vue-fontawesome",{class:{"has-text-white":this.filterTaskView.includes("list"),"has-text-danger":!this.filterTaskView.includes("list")},attrs:{icon:"list"}})],1)],1),a("span",{staticClass:"mx-2",on:{click:function(e){t.activeModal="tasks",t.fullScreenModal=!0}}},[a("b-tooltip",{attrs:{type:"is-dark",position:"is-left",label:"Genişlet"}},[a("vue-fontawesome",{attrs:{icon:"expand-arrows-alt"}})],1)],1)])]),a("div",{staticClass:"has-text-dark my-2 is-flex is-justify-content-space-between",staticStyle:{"font-weight":"700","font-size":"1.3rem"}},[a("div",[a("small",{staticStyle:{"font-size":"11px"}},[t._v(" Kullanıcının "+t._s(t.userDetail.userInfo.start==t.userDetail.userInfo.end?t.userDetail.userInfo.start:'"'+t.userDetail.userInfo.start+'" ile "'+t.userDetail.userInfo.end+'" tarihleri arası')+" "+t._s(t.userDetail.userTasks.length)+" görevi bulunmaktadır. ")])])]),a("div",{staticClass:"columns"},[t.loadingMap?t._e():a("div",{directives:[{name:"show",rawName:"v-show",value:"double"==t.filterTaskViewStatus||"map"==t.filterTaskViewStatus,expression:"\n              filterTaskViewStatus == 'double' ||\n                filterTaskViewStatus == 'map'"}],staticClass:"column"},[a("l-map",{staticStyle:{width:"100%",height:"35vh"},attrs:{zoom:21,center:t.center,options:t.mapOptions}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.filterTasks,(function(e,s){return a("div",{key:s},[a("l-marker",{attrs:{"lat-lng":e.latLng}},[a("l-popup",[a("div",{staticClass:"has-background-primary has-text-white px-2 p-1 is-rounded mt-5"},[t._v(" "+t._s(e.title)+" ")]),a("div",{staticClass:"p-2",staticStyle:{"border-right":"1px solid black","border-left":"1px solid black"}},[a("div",{staticClass:"mb-3"},[a("strong",[t._v(t._s(e.description))])]),""!=e.staffNote?a("div",[a("strong",[t._v("Çalışan Notu : ")]),a("strong",[t._v(t._s(e.staffNote))])]):t._e()]),a("div",{staticClass:"has-background-success has-text-white px-2 p-1 is-rounded mb-2",on:{click:function(a){return t.innerClick({latitude:e.latitude,longitude:e.longitude})}}},[t._v(" Haritalar'da Aç ")])]),a("l-icon",{attrs:{"icon-size":[48,48],"icon-anchor":[16,37]}},[a("div",{staticClass:"marker",class:{done:1==e.status,suspend:2==e.status,cancel:3==e.status}}),a("span",{staticClass:"beacon"})])],1)],1)}))],2)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"double"==t.filterTaskViewStatus||"list"==t.filterTaskViewStatus,expression:"\n              filterTaskViewStatus == 'double' ||\n                filterTaskViewStatus == 'list'"}],staticClass:"column",staticStyle:{height:"35vh","overflow-y":"scroll"}},t._l(t.filterTasks,(function(e,s){return a("div",{key:s,staticStyle:{border:"1px solid #dedede"},on:{click:function(a){t.center=e.latLng}}},[a("strong",{class:0==e.status?"has-text-primary":1==e.status?"has-text-success":2==e.status?"has-text-warning":"has-text-danger"},[t._v(" "+t._s(0==e.status?"Beklemede":1==e.status?"Tamamlandı":2==e.status?"Ertelendi":"İptal Edildi"))]),t._v(" - "),a("strong",[t._v(t._s(e.title))]),t._v(" "),a("br"),a("small",{staticStyle:{"font-size":"11px"}},[t._v(t._s(e.description))])])})),0)])])])]),a("b-modal",{model:{value:t.missionModal,callback:function(e){t.missionModal=e},expression:"missionModal"}},[a("NewMissions",{attrs:{userDetail:t.userDetail.userInfo,firebase:t.firebase},on:{layout:t.setNewTask},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1),a("b-modal",{attrs:{"has-modal-card":"","full-screen":""},model:{value:t.fullScreenModal,callback:function(e){t.fullScreenModal=e},expression:"fullScreenModal"}},["last_seen"==t.activeModal?a("div",[null!=t.center?a("div",{staticClass:"column map-framework has-background-primary"},[a("p",{staticClass:"has-text-white",staticStyle:{"font-weight":"700","font-size":"1.3rem"}},[t._v(" Kullanıcının Son Konumu ")]),a("l-map",{staticStyle:{width:"100%",height:"85vh"},attrs:{zoom:21,center:t.center,options:t.mapOptions}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),a("l-marker",{attrs:{"lat-lng":t.center}},[a("l-popup",[a("div",{staticClass:"has-background-primary has-text-white px-2 p-1 is-rounded mt-5"},[t._v(" Seçilen Konum ")])]),a("l-icon",{attrs:{"icon-size":[48,48],"icon-anchor":[16,37]}},[a("div",{staticClass:"marker"}),a("span",{staticClass:"beacon"})])],1)],1)],1):t._e()]):"tasks"==t.activeModal?a("div",[0!=t.userDetail.userTasks.length?a("div",{staticClass:"column map-framework has-background-white"},[a("div",{staticClass:"has-text-right has-background-white my-2"},[a("b-field",[a("b-select",{attrs:{size:"is-small",placeholder:"Select a character"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("option",{attrs:{selected:""},domProps:{value:-1}},[t._v("Hepsini Göster ("+t._s(t.userDetail.userTasks.length)+")")]),a("option",{domProps:{value:0}},[t._v("Sadece Bekleyen Görevleri Göster ("+t._s(t.showTaskLength(t.userDetail.userTasks,0))+")")]),a("option",{domProps:{value:2}},[t._v("Sadece Ertelenenleri Göster ("+t._s(t.showTaskLength(t.userDetail.userTasks,2))+")")]),a("option",{domProps:{value:3}},[t._v("Sadece İptal Edilenleri Göster ("+t._s(t.showTaskLength(t.userDetail.userTasks,3))+")")]),a("option",{domProps:{value:1}},[t._v("Sadece Tamamlananları Göster ("+t._s(t.showTaskLength(t.userDetail.userTasks,1))+")")])])],1),a("b-button",{attrs:{type:"is-primary is-light"},on:{click:function(e){t.fullScreenModal=t.False}}},[a("vue-fontawesome",{attrs:{icon:"times"}})],1)],1),a("div",{staticClass:"columns"},[t.loadingMap?t._e():a("div",{directives:[{name:"show",rawName:"v-show",value:"double"==t.filterTaskViewStatus||"map"==t.filterTaskViewStatus,expression:"\n              filterTaskViewStatus == 'double' ||\n                filterTaskViewStatus == 'map'"}],staticClass:"column"},[a("l-map",{staticStyle:{width:"100%",height:"80vh"},attrs:{zoom:21,center:t.center,options:t.mapOptions},on:{"update:center":function(e){t.center=e}}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.filterTasks,(function(e,s){return a("div",{key:s},[a("l-marker",{attrs:{"lat-lng":e.latLng}},[a("l-popup",[a("div",{staticClass:"has-background-primary has-text-white px-2 p-1 is-rounded mt-5"},[t._v(" "+t._s(e.title)+" ")]),a("div",{staticClass:"p-2",staticStyle:{"border-right":"1px solid black","border-left":"1px solid black"}},[a("div",{staticClass:"mb-3"},[a("strong",[t._v(t._s(e.description))])]),""!=e.staffNote?a("div",[a("strong",[t._v("Çalışan Notu : ")]),a("strong",[t._v(t._s(e.staffNote))])]):t._e()]),a("div",{staticClass:"has-background-success has-text-white px-2 p-1 is-rounded mb-2",on:{click:function(a){return t.innerClick({latitude:e.latitude,longitude:e.longitude})}}},[t._v(" Haritalar'da Aç ")])]),a("l-icon",{attrs:{"icon-size":[48,48],"icon-anchor":[16,37]}},[a("div",{staticClass:"marker",class:{done:1==e.status,suspend:2==e.status,cancel:3==e.status}}),a("span",{staticClass:"beacon"})])],1)],1)}))],2)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"double"==t.filterTaskViewStatus||"list"==t.filterTaskViewStatus,expression:"\n              filterTaskViewStatus == 'double' ||\n                filterTaskViewStatus == 'list'"}],staticClass:"column has-background-white mt-3",staticStyle:{height:"80vh","overflow-y":"scroll","z-index":"4002"}},t._l(t.filterTasks,(function(e,s){return a("div",{key:s,staticStyle:{border:"1px solid #dedede"},on:{click:function(a){t.center=e.latLng}}},[a("strong",{class:0==e.status?"has-text-primary":1==e.status?"has-text-success":2==e.status?"has-text-warning":"has-text-danger"},[t._v(" "+t._s(0==e.status?"Beklemede":1==e.status?"Tamamlandı":2==e.status?"Ertelendi":"İptal Edildi"))]),t._v(" - "),a("strong",[t._v(t._s(e.title))]),t._v(" "),a("br"),a("small",{staticStyle:{"font-size":"11px"}},[t._v(t._s(e.description))])])})),0)])]):t._e()]):"newMissions"==t.activeModal?a("div",[a("div",{staticClass:"has-background-white",staticStyle:{"z-index":"4001"}})]):t._e()]),a("b-loading",{attrs:{"is-full-page":""},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}})],1)},Xt=[],Yt=(a("a4d3"),a("e01a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-mission "},[a("div",{staticClass:"has-background-primary p-4 is-shadow my-5 body-mission"},[a("h1",{staticClass:"has-text-centered my-4 has-text-white",staticStyle:{"font-size":"1.5rem","font-weight":"700"}},[t._v("Yeni Görev Tanımla")]),a("b-field",{staticClass:" ",attrs:{type:t.val.user.type,message:t.val.user.message,"custom-class":"has-text-white",label:"Saha Elemanını Seçin"}},[t.item.id?a("div",{staticClass:"has-text-right"},[a("b-button",{attrs:{size:"is-small",type:"is-danger is-light"},on:{click:function(e){t.item={}}}},[t._v('"'+t._s(t.item.name)+'" ismini Kaldır X')])],1):t._e(),a("vue-suggestion",{staticStyle:{width:"100%"},attrs:{items:t.value,disabled:t.item.id,setLabel:t.setLabel,itemTemplate:t.itemTemplate,placeholder:"Görev tanımlamak için kullanıcının adını arayınız.."},on:{onInputChange:t.inputChange,onItemSelected:t.itemSelected},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1),t._v(" "+t._s(t.form.createdAt)+" "),a("b-field",{staticClass:"mt-2",attrs:{"custom-class":"has-text-white",type:t.val.createdAt.type,message:t.val.createdAt.message,label:"Görev Gününü seçiniz"}},[a("b-datetimepicker",{attrs:{"date-formatter":function(t){return new Intl.DateTimeFormat(["ban","id"]).format(t)},"first-day-of-week":1,locale:"tr-TR",placeholder:"Görev Gününü seçiniz"},model:{value:t.createdAt,callback:function(e){t.createdAt=e},expression:"createdAt"}})],1),a("b-field",{staticClass:"mt-2",attrs:{"custom-class":"has-text-white",type:t.val.title.type,message:t.val.title.message,label:"Mekan Adı veya Görev Başlığı"}},[a("b-input",{attrs:{placeholder:"Mekan Adı veya Görev Başlığını girin","validation-message":"Bu alanın doldurulması zorunludur.",required:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("b-field",{staticClass:"mt-2",attrs:{"custom-class":"has-text-white",type:t.val.description.type,message:t.val.description.message,label:"Görev Açıklaması"}},[a("b-input",{attrs:{maxlength:"200",type:"textarea",placeholder:"Görev Açıklamasını girin","validation-message":"Bu alanın doldurulması zorunludur.",required:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),a("b-field",{staticClass:"mt-2 white-info",attrs:{"custom-class":"has-text-white",type:t.val.mapsUrl.type,message:t.val.mapsUrl.message,label:"Google Haritalar Linkini Yapıştırın"}},[a("b-input",{attrs:{maxlength:"200",type:"textarea",placeholder:"Google haritalardan linki buraya yapıştırın.","validation-message":"Bu alanın doldurulması zorunludur.",required:""},model:{value:t.mapsUrl,callback:function(e){t.mapsUrl=e},expression:"mapsUrl"}})],1),a("l-map",{staticStyle:{width:"100%",height:"350px"},attrs:{zoom:t.form.zoom,center:t.center,options:t.mapOptions},on:{"update:zoom":[function(e){return t.$set(t.form,"zoom",e)},t.zoomUpdate],"update:center":[function(e){t.center=e},t.centerUpdate]}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),a("l-marker",{attrs:{"lat-lng":t.center}},[a("l-popup",[a("div",{staticClass:"has-background-primary has-text-white px-2 p-1 is-rounded mt-5"},[t._v(" Seçilen Konum ")])]),a("l-icon",{attrs:{"icon-size":[48,48],"icon-anchor":[16,37]}},[a("div",{staticClass:"marker"}),a("span",{staticClass:"beacon"})])],1)],1),a("div",{staticClass:"my-4 has-text-right"},[a("b-button",{staticClass:"my-2",attrs:{type:"is-primary is-light"},on:{click:t.sendTask}},[t._v("Gönder")])],1)],1)])}),Jt=[],Qt=(a("edae"),a("035f")),Wt=a.n(Qt),qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",{staticClass:"leaderboard__profile"},[a("img",{staticClass:"leaderboard__picture",attrs:{src:"https://randomuser.me/api/portraits/men/32.jpg",alt:"Mark Zuckerberg"}}),a("span",{staticClass:"leaderboard__name"},[t.item.isAdmin?a("b-tooltip",{attrs:{label:"Yönetici Hesabı",position:"is-right"}},[a("span",[t._v("★")])]):t._e(),t._v(" "+t._s(t.item.name)+" "),a("small",{staticStyle:{"font-size":"10px"}},[t._v("("+t._s(t.item.email)+")")]),a("small",{staticStyle:{"font-size":"10px"}},[t._v(t._s(t.item.isDisabled?"(Bu hesap aktif değil)":""))])],1),a("span",{staticClass:"leaderboard__value"},[t._v(" - ")])])},$t=[],te={props:{item:{required:!0}}},ee=te,ae=(a("ff25"),Object(w["a"])(ee,qt,$t,!1,null,null,null)),se=ae.exports,ie=a("cc98"),ne={components:{VueSuggestion:Wt.a,LMap:q["a"],LTileLayer:$["a"],LMarker:tt["a"],LPopup:et["a"],LIcon:at["a"]},props:{value:{default:function(){return[]}},firebase:{default:function(){}},userDetail:{default:function(){}}},data:function(){return{mapsUrl:"",mapOptions:{zoomSnap:.5},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; Made it by <a href="https://wwww.eralpsoftware.com">Eralp Software</a>',searchUser:"",userList:this.value,item:{},items:[],itemTemplate:se,val:{user:{type:"",message:""},title:{type:"",message:""},description:{type:"",message:""},password:{type:"",message:""},createdAt:{type:"",message:""},mapsUrl:{type:"info",message:"maps.google.com adresinden seçilen konumun linkini buraya yapıştırın"}},createdAt:null,form:{id:-1,description:"",descriptionVerified:!1,createdAt:null,phoneNumber:"",password:"",title:"",disabled:!1,lat:null,lng:null,zoom:18,isAdmin:!1},latLng:W["latLng"],center:Object(W["latLng"])(47.41322,-1.219482)}},watch:{userDetail:{deep:!0,handler:function(t){t.id&&(this.item=t)}},createdAt:function(t){this.form.createdAt=new Date(t).getTime()},mapsUrl:function(t){this.mapControl(t,!1)}},mounted:function(){this.userDetail.id&&(this.item=this.userDetail)},methods:{sendTask:function(){var t=this.controlValid();if(t){var e=ie(),a={title:this.form.title,description:this.form.description,userId:this.item.id,latitude:this.form.lat,longitude:this.form.lng,createdAt:this.form.createdAt,isActive:!1,id:e,status:0,staffNote:""};console.log(e),this.firebase.firestore().collection("tasks").doc(e).set(a),this.$buefy.toast.open({duration:5e3,message:"Çalışana görev başarıyla tanımlandı.!",type:"is-success"}),this.$emit("layout","missions","missionsList",a)}else this.$buefy.toast.open({duration:5e3,message:"Tüm alanları eksiksiz doldurunuz!",type:"is-danger"})},clearAll:function(){this.val={user:{type:"",message:""},title:{type:"",message:""},description:{type:"",message:""},password:{type:"",message:""},createdAt:{type:"",message:""},mapsUrl:{type:"info",message:"maps.google.com adresinden seçilen konumun linkini buraya yapıştırın"}}},controlValid:function(){this.clearAll();var t=this.mapControl(this.mapsUrl,!0);return!!(this.item.id&&null!=this.form.lat&&null!=this.form.lng&&""!=this.form.title&&this.form.description&&t)||(this.item.id||(this.val.user.type="is-danger",this.val.user.message="Bu alanı doldurmak zorunludur."),""==this.form.title&&(this.val.title.type="is-danger",this.val.title.message="Bu alanı doldurmak zorunludur."),""==this.form.description&&(this.val.description.type="is-danger",this.val.description.message="Bu alanı doldurmak zorunludur."),""==this.form.createdAt&&null==this.form.createdAt&&(this.val.createdAt.type="is-danger",this.val.createdAt.message="Bu alanı doldurmak zorunludur."),!1)},mapControl:function(t,e){if(console.log(t),!t.includes("@"))return this.val.mapsUrl.type="is-danger",this.val.mapsUrl.message="Girmiş olduğunuz konum linki yanlış veya eksik görünüyor.",!1;if(!t.includes(","))return this.val.mapsUrl.type="is-danger",this.val.mapsUrl.message="Girmiş olduğunuz konum linki yanlış veya eksik görünüyor.",!1;if(""==t&&null==t)return this.val.mapsUrl.type="is-danger",this.val.mapsUrl.message="Bu alanı doldurmak zorunludur.",!1;if(this.val.mapsUrl.type="is-success",this.val.mapsUrl.message="Konumu başarıyla aldık. Aşağıdaki haritayı lütfen kontrol edin",!e){var a=t.split("@")[1],s=a.split(","),i=Object(m["a"])(s,3),n=i[0],r=i[1],l=i[2];this.form.lat=n,this.form.lng=r,this.form.zoom=l.split("z")[0],this.centerUpdate(this.latLng(n,r))}return!0},zoomUpdate:function(t){this.currentZoom=t},centerUpdate:function(t){this.form.lat=t.lat,this.form.lng=t.lng,this.center=t,this.zoom=21},getConnectFirestoreWhere:function(t,e,a,s){var i=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i.firebase.firestore().collection(t).where(e,a,s).get();case 2:return r=n.sent,n.abrupt("return",r.docs.map((function(t){return t.data()})));case 4:case"end":return n.stop()}}),n)})))()},setUserList:function(t,e,a,s){var i=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i.getConnectFirestoreWhere(t,e,a,s);case 2:r=n.sent,i.$emit("input",r);case 4:case"end":return n.stop()}}),n)})))()},searchUserList:function(t){this.$emit("input",t)},itemSelected:function(t){this.item=t},setLabel:function(t){return t.name},inputChange:function(t){var e=this.setUserList("user","name",">=",t);this.setUserList(e)}}},re=ne,le=(a("3081"),Object(w["a"])(re,Yt,Jt,!1,null,null,null)),oe=le.exports,ce={components:{LMap:q["a"],NewMissions:oe,LTileLayer:$["a"],LMarker:tt["a"],LPopup:et["a"],LIcon:at["a"],UserList:Y},props:{firebase:{default:function(){}},user:{default:function(){}}},data:function(){return{filterTaskView:["map"],latLng:W["latLng"],selected:-1,missionModal:!1,activeModal:"last_seen",fullScreenModal:!1,userDetail:{userInfo:null,userTasks:[]},isLoading:!1,loadingMap:!1,center:Object(W["latLng"])(47.41322,-1.219482),mapOptions:{zoomSnap:.5},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; Made it by <a href="https://wwww.eralpsoftware.com">Eralp Software</a>'}},watch:{filterTaskView:{deep:!0,handler:function(){var t=this;this.loadingMap=!0,setTimeout((function(){t.loadingMap=!1}),150)}}},computed:{filterTaskViewStatus:function(){return this.filterTaskView.includes("map")&&this.filterTaskView.includes("list")?"double":this.filterTaskView.includes("map")?"map":"list"},filterTasks:function(){var t=this;return-1==this.selected?this.userDetail.userTasks:this.userDetail.userTasks.filter((function(e){return e.status==t.selected}))}},methods:{arrayRemove:function(t,e){return t.filter((function(t){return t!=e}))},filterPush:function(t){var e=this.filterTaskView.includes(t);e?this.filterTaskView=this.arrayRemove(this.filterTaskView,t):this.filterTaskView.push(t)},showTaskLength:function(t,e){return t.filter((function(t){return t.status==e})).length},test:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t.userDetail.userTasks),t.userDetail.userTasks.forEach(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.firebase.firestore().collection("tasks").doc(a.id).set({createdAt:a.createdAt,description:a.description,id:a.id,isActive:a.isActive,latitude:a.latitude,longitude:a.longitude,staffNote:a.staffNote,status:a.status,title:a.title,userId:a.userId});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()},innerClick:function(t){console.log(t),this.$buefy.dialog.confirm({title:"Görünüm Seç",message:"Haritalar'da hangi formatta açmak istiyorsunuz? <br> <small>Eğer Sokak görünümünde siyah ekran açılıyorsa o konumda fotoğraf bulunmamaktadır. Lütfen Haritalar'da Aç seçeneğini Seçiniz<small/>",cancelText:"Haritalar'da Aç",confirmText:"Sokak Görünümü'nde Aç",type:"is-success",hasIcon:!0,onConfirm:function(){window.open("http://maps.google.com/maps?q=&layer=c&cbll=".concat(t.latitude,",").concat(t.longitude),"_blank")},onCancel:function(){window.open("https://www.google.com/maps/@".concat(t.latitude,",").concat(t.longitude,",21z"),"_blank")}})},setNewTask:function(){this.setDetail(this.userDetail.userInfo),this.missionModal=!1},changeObjectKey:function(t,e,a){var s;for(s=0;s<t.length;s++)t[s][a]=t[s][e],delete t[s][e];return t},getConnectFirestoreWhere2:function(t,e,a,s,i,n){var r=this;return Object(l["a"])(regeneratorRuntime.mark((function l(){var o,c,u;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return o=new Date(n.start).getTime(),c=new Date(n.end).getTime(),l.next=4,r.firebase.firestore().collection(t).where(e,a,s).where(i,">=",o).where(i,"<=",c).orderBy(i,"asc").get();case 4:return u=l.sent,l.abrupt("return",u.docs.map((function(t){return console.log(t),t.data()})));case 6:case"end":return l.stop()}}),l)})))()},setUserHeatMap:function(t,e,a,s,i,n){var o=this;return Object(l["a"])(regeneratorRuntime.mark((function l(){var c,u,d,m,p;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return o.userInfo=i,o.profileUser=i,o.updated=!1,c=[],l.next=6,o.getConnectFirestoreWhere2(t,e,a,s,"millisTime",n);case 6:return u=l.sent,l.next=9,o.getConnectFirestoreWhere2("companies","user",a,s,"millisTime",n);case 9:d=l.sent,o.points=d,m=0,p=[],u.forEach((function(t){var e=new Date(t.time).getTime();m<e&&(o.lastDataTime=t.time,m=e);var a=o.changeObjectKey(t.locations,"latitude","lat");if(a=o.changeObjectKey(a,"longitude","lng"),0!=a.length)if(console.log("locations"),0==p.length)p.push({lat:a[a.length-1].lat,lng:a[a.length-1].lng,time:t.time,count:1});else{var s=3e-4,i=p[p.length-1].lat-a[a.length-1].lat,n=p[p.length-1].lng-a[a.length-1].lng;i<=s&&i>=-s&&n<=s&&n>=-s?p[p.length-1].count++:p.push({lat:a[a.length-1].lat,lng:a[a.length-1].lng,time:t.time,count:1})}0==o.firstLat&&0!=a.length&&(o.firstLat=a[0].lat),0==o.firstLng&&0!=a.length&&(o.firstLng=a[0].lng),c.push.apply(c,Object(r["a"])(a))})),console.log(p),o.lastLatLon=p,o.heatMapPoints=c,o.fullScreenModal=!0,o.updated=!0;case 19:case"end":return l.stop()}}),l)})))()},WithoutTime:function(t){var e=new Date(t.getTime());return e.setHours(0,0,0,0),e.getTime()},setDetail:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.isLoading=!0,a.next=3,e.getConnectFirestoreWhere("tasks","userId","==",t.id,t);case 3:s=a.sent,console.log(s),s.forEach((function(t){t.latLng=e.latLng(t.latitude,t.longitude),e.center=t.latLng})),e.userDetail={userInfo:t,userTasks:s},t["last_seen"]&&(e.center=e.latLng(t["last_seen"].latitude,t["last_seen"].longitude)),e.isLoading=!1;case 9:case"end":return a.stop()}}),a)})))()},getConnectFirestoreWhere:function(t,e,a,s,i){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var l,c,u,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return l=["==","=="],c=n.WithoutTime(new Date),u=c+8634e4,i.start==i.end?(c=n.WithoutTime(new Date(i.start)),u=c+8634e4):(c=n.WithoutTime(new Date(i.start)),l=[">=","<="],u=n.WithoutTime(new Date(i.end))+8634e4),console.log(c,u),r.next=7,n.firebase.firestore().collection(t).where(e,a,s).where("createdAt",l[0],c).where("createdAt",l[1],u).get();case 7:return d=r.sent,r.abrupt("return",d.docs.map((function(t){return Object(o["a"])(Object(o["a"])({},t.data()),{},{id:t.id})})));case 9:case"end":return r.stop()}}),r)})))()}}},ue=ce,de=(a("1404"),Object(w["a"])(ue,Zt,Xt,!1,null,null,null)),me=de.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("l-map",{staticStyle:{width:"100vw",height:"100vh"},attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions},on:{"update:zoom":function(e){t.zoom=e},"update:center":[function(e){t.center=e},t.centerUpdate]}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.users,(function(e,s){return a("div",{key:s},[e["last_seen"]&&!t.isLoading?a("l-marker",{attrs:{"lat-lng":t.latLng(e["last_seen"].latitude,e["last_seen"].longitude)}},[a("l-popup",[a("div",{staticClass:"has-background-primary has-text-white px-2 p-1 is-rounded mt-5"},[t._v(" Kullanıcı Bilgileri ")]),a("div",{staticClass:"p-2",staticStyle:{"border-right":"1px solid black","border-left":"1px solid black"}},[a("div",[a("strong",{staticClass:"has-text-primary"},[t._v("Saha Çalışanın Bilgileri")])]),a("div",{staticClass:"mb-3"},[a("strong",[t._v(t._s(e.name)+" ("+t._s(e.email)+")")])]),a("div",[a("strong",{staticClass:"has-text-primary"},[t._v("İşe Giriş Tarihi")])]),a("div",{staticClass:"mb-3"},[a("strong",[t._v(t._s(e.createdAt))])]),a("div",[a("strong",{staticClass:"has-text-primary"},[t._v("Yetki Düzeyi")])]),a("div",{staticClass:"mb-3"},[a("strong",[t._v(t._s(e.isAdmin?"Yönetici":"Çalışan"))])]),a("div",[a("strong",{staticClass:"has-text-primary"},[t._v("Son Konum Bilgi Saati")])]),e["last_seen"]?a("div",{staticClass:"mb-3"},[a("strong",[t._v(t._s(t.setDate(e["last_seen"].time)))])]):t._e()]),a("div"),a("div",{staticClass:"has-background-success has-text-white px-2 p-1 is-rounded mb-2",on:{click:function(a){return t.innerClick({latitude:e["last_seen"].latitude,longitude:e["last_seen"].longitude})}}},[t._v(" Haritalar'da Aç ")])]),a("l-icon",{attrs:{"icon-size":[48,48],"icon-anchor":[16,37]}},[a("div",{staticClass:"avatar"},[e.image?a("img",{attrs:{src:e.image}}):a("img",{attrs:{src:"https://placekitten.com/400/400"}})])])],1):t._e()],1)}))],2),a("UserList",{attrs:{firebase:t.firebase,user:t.user},on:{"new:value":function(e){t.isLoading=e},"update:center":function(e){t.centerUpdate(t.latLng(e.l,e.o),!0)},input:function(e){return t.$emit("input",e)}}})],1)},fe=[],he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{"leave-active-class":"animate__backOutLeft"}},[a("article",{staticClass:"leaderboard animate__animated animate__backInLeft",class:{"non-fixed":t.nonFixed},style:t.show?"left:"+t.list.x+"px;top:"+t.list.y+"rem":"left:-370px;top:5px"},[a("header",{staticClass:"head"},[a("svg",{staticClass:"leaderboard__icon",staticStyle:{"enable-background":"new 0 0 511.999 511.999"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 511.999 511.999","xml:space":"preserve"}},[a("g",[a("g",[a("path",{attrs:{d:"M466.45,49.374c-7.065-8.308-17.368-13.071-28.267-13.071H402.41v-11.19C402.41,11.266,391.143,0,377.297,0H134.705\n\t\t\tc-13.848,0-25.112,11.266-25.112,25.112v11.19H73.816c-10.899,0-21.203,4.764-28.267,13.071\n\t\t\tc-6.992,8.221-10.014,19.019-8.289,29.624c9.4,57.8,45.775,108.863,97.4,136.872c4.717,11.341,10.059,22.083,16.008,32.091\n\t\t\tc19.002,31.975,42.625,54.073,68.627,64.76c2.635,26.644-15.094,51.885-41.794,57.9c-0.057,0.013-0.097,0.033-0.153,0.046\n\t\t\tc-5.211,1.245-9.09,5.921-9.09,11.513v54.363h-21.986c-19.602,0-35.549,15.947-35.549,35.549v28.058\n\t\t\tc0,6.545,5.305,11.85,11.85,11.85H390.56c6.545,0,11.85-5.305,11.85-11.85v-28.058c0-19.602-15.947-35.549-35.549-35.549h-21.988\n\t\t\tV382.18c0-5.603-3.893-10.286-9.118-11.52c-0.049-0.012-0.096-0.028-0.145-0.04c-26.902-6.055-44.664-31.55-41.752-58.394\n\t\t\tc25.548-10.86,48.757-32.761,67.479-64.264c5.949-10.009,11.29-20.752,16.008-32.095c51.622-28.01,87.995-79.072,97.395-136.87\n\t\t\tC476.465,68.392,473.443,57.595,466.45,49.374z M60.652,75.192c-0.616-3.787,0.431-7.504,2.949-10.466\n\t\t\tc2.555-3.004,6.277-4.726,10.214-4.726h35.777v21.802c0,34.186,4.363,67.3,12.632,97.583\n\t\t\tC89.728,153.706,67.354,116.403,60.652,75.192z M366.861,460.243c6.534,0,11.85,5.316,11.85,11.85v16.208H134.422v-16.208\n\t\t\tc0-6.534,5.316-11.85,11.85-11.85H366.861z M321.173,394.03v42.513H191.96V394.03H321.173z M223.037,370.331\n\t\t\tc2.929-3.224,5.607-6.719,8.002-10.46c7.897-12.339,12.042-26.357,12.228-40.674c4.209,0.573,8.457,0.88,12.741,0.88\n\t\t\tc4.661,0,9.279-0.358,13.852-1.036c0.27,19.239,7.758,37.45,20.349,51.289H223.037z M378.709,81.803\n\t\t\tc0,58.379-13.406,113.089-37.747,154.049c-23.192,39.03-53.364,60.525-84.956,60.525c-31.597,0-61.771-21.494-84.966-60.523\n\t\t\tc-24.342-40.961-37.748-95.671-37.748-154.049V25.112c0-0.78,0.634-1.413,1.412-1.413h242.591c0.78,0,1.414,0.634,1.414,1.413\n\t\t\tV81.803z M451.348,75.192c-6.702,41.208-29.074,78.51-61.569,104.191c8.268-30.283,12.631-63.395,12.631-97.58V60.001h35.773\n\t\t\tc3.938,0,7.66,1.723,10.214,4.726C450.915,67.688,451.963,71.405,451.348,75.192z"}})])]),a("g",[a("g",[a("path",{attrs:{d:"M327.941,121.658c-1.395-4.288-5.103-7.414-9.566-8.064l-35.758-5.196l-15.991-32.402\n\t\t\tc-1.997-4.044-6.116-6.605-10.626-6.605c-4.511,0-8.63,2.561-10.626,6.605l-15.991,32.402l-35.758,5.196\n\t\t\tc-4.464,0.648-8.172,3.775-9.566,8.065c-1.393,4.291-0.231,8.999,2.999,12.148l25.875,25.221l-6.109,35.613\n\t\t\tc-0.763,4.446,1.064,8.938,4.714,11.59c3.648,2.651,8.487,3,12.479,0.902L256,190.32l31.982,16.813\n\t\t\tc1.734,0.911,3.627,1.36,5.512,1.36c2.456,0,4.902-0.763,6.966-2.263c3.65-2.652,5.477-7.144,4.714-11.59l-6.109-35.613\n\t\t\tl25.875-25.221C328.172,130.658,329.334,125.949,327.941,121.658z M278.064,146.405c-2.793,2.722-4.068,6.644-3.408,10.489\n\t\t\tl3.102,18.09l-16.245-8.541c-1.725-0.908-3.62-1.36-5.514-1.36c-1.894,0-3.788,0.454-5.514,1.36l-16.245,8.541l3.102-18.09\n\t\t\tc0.66-3.844-0.615-7.766-3.408-10.489l-13.141-12.81l18.162-2.64c3.859-0.56,7.196-2.985,8.922-6.482l8.123-16.458l8.122,16.458\n\t\t\tc1.727,3.497,5.062,5.921,8.922,6.482l18.162,2.64L278.064,146.405z"}})])])]),a("h1",{staticClass:"leaderboard__title",staticStyle:{"z-index":"1"}},[a("span",{staticClass:"leaderboard__title--top"},[t._v("List")]),a("span",{staticClass:"leaderboard__title--bottom"},[t._v("Staff Tracker")])]),t.nonFixed?t._e():a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("b-tooltip",{staticStyle:{"z-index":"1"},attrs:{label:"Gizlemek için tıklayın",position:"is-left"}},[a("b-button",{attrs:{type:"is-danger ",size:"is-small"},on:{click:function(e){t.show=!1}}},[t._v(" X ")])],1)],1)]),a("main",{staticClass:"leaderboard__profiles"},[a("div",{staticStyle:{"text-align":"center"}},[a("b-button",{attrs:{type:"is-success is-light",size:"is-small"},on:{click:function(e){return t.setUserList("user","isDisabled","==",!1)}}},[t._v(" Aktif Çalışanlar ")]),a("b-button",{attrs:{type:"is-success is-light",size:"is-small"},on:{click:function(e){return t.setUserList("user","isAdmin","==",!1)}}},[t._v(" Sadece Çalışan ")]),a("b-button",{attrs:{type:"is-success is-light",size:"is-small"},on:{click:function(e){return t.setUserList("user","isDisabled","==",!0)}}},[t._v(" Aktif Olmayan ")])],1),a("div",[a("b-input",{attrs:{placeholder:"Çalışan ismini ara...",size:"is-small"},on:{input:function(e){return t.controlList(e)}}})],1),a("b-loading",{attrs:{"is-full-page":!1},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}}),t._l(t.userList,(function(e,s){return a("article",{key:s,staticClass:"leaderboard__profile",class:{"is-passive":!e.isMoving,"is-disabled":e.isDisabled,"is-active-list":e.isMoving},on:{click:function(a){return t.setUserLocation(e)}}},[a("b-tooltip",{attrs:{label:e.isMoving?"Hareket halinde":"Hareket etmiyor",type:e.isMoving?"is-success":"is-danger",position:"is-right"}},[e.image?a("img",{staticClass:"leaderboard__picture",attrs:{src:e.image,alt:"Mark Zuckerberg"}}):a("img",{staticClass:"leaderboard__picture",attrs:{src:"https://www.clipartkey.com/mpngs/m/146-1461473_default-profile-picture-transparent.png",alt:"Mark Zuckerberg"}})]),a("span",{staticClass:"leaderboard__name"},[e.isAdmin?a("b-tooltip",{attrs:{label:"Yönetici Hesabı",position:"is-right",type:"is-warning"}},[a("span",[t._v("★")])]):t._e(),t._v(" "+t._s(e.name)+" "),a("small",{staticStyle:{"font-size":"10px"}},[t._v("("+t._s(e.email)+")")]),a("small",{staticStyle:{"font-size":"10px"}},[t._v(t._s(e.isDisabled?"(Bu hesap aktif değil)":""))])],1),a("span",{staticClass:"leaderboard__value"},[t._v(" - ")])],1)}))],2)])]),t.nonFixed?t._e():a("div",{staticClass:"toggle-button",style:"top:"+t.top+"px;"+(t.show?"left:"+(t.list.x+370)+"px;"+(t.show?"background:white!important":""):"left: 0px;top:90vh"),on:{click:function(e){t.show=!t.show}}},[a("b-tooltip",{attrs:{label:t.show?"Kullanıcı listesini gizlemek için tıklayın.":"Kullanıcı listesini görmek için tıklayın.",position:"is-right"}},[t.show?a("vue-fontawesome",{staticClass:"animate__animated animate__backInLeft",staticStyle:{"font-size":"40px",color:"#7C83FD",cursor:"pointer"},attrs:{icon:"arrow-alt-circle-left"}}):a("vue-fontawesome",{staticClass:"animate__animated animate__backInLeft",staticStyle:{"font-size":"32px",color:"white",cursor:"pointer"},attrs:{icon:"users"}})],1)],1)],1)},ge=[],ve={name:"user-list",props:{nonFixed:{default:!1,type:Boolean},realLoading:{default:!1,type:Boolean},firebase:{default:function(){},required:!0},value:{default:function(){return[]}},user:{default:function(){}},search:{default:""}},watch:{realLoading:function(t){this.isLoading=t},search:{deep:!0,handler:function(t){this.controlList(t)}},value:{deep:!0,handler:function(t){this.userList=t}}},beforeDestroy:function(){this.unsubscribe()},data:function(){return{datePickerModal:!1,top:0,show:!0,isLoading:!1,userList:[],settmout:-1,selectedItem:{event:"",collection:"",field:"",symbol:"",id:"",data:{}},unsubscribe:null,list:{x:5,y:3.5}}},methods:{setUserLocation:function(t){this.$emit("update:center",{l:t["last_seen"].latitude,o:t["last_seen"].longitude})},setUserDetail:function(t){this.$emit("detail",t)},drag:function(t){0!=t.x&&0!=t.y&&(this.list.x=t.x,this.list.y=t.y,console.log(t))},setUserListOne:function(t,e,a,s,i,n){this.selectedItem.event=t,this.selectedItem.collection=e,this.selectedItem.field=a,this.selectedItem.symbol=s,this.selectedItem.id=i,this.selectedItem.data=n,this.datePickerModal=!0},setDatePicker:function(t){console.log(t);var e=t.start.split("/"),a=Object(m["a"])(e,3),s=a[0],i=a[1],n=a[2],r=t.end.split("/"),l=Object(m["a"])(r,3),c=l[0],u=l[1],d=l[2],p={start:"".concat(n,"-").concat(i,"-").concat(s),end:"".concat(d,"-").concat(u,"-").concat(c)};if(console.log("çalişti"),this.nonFixed){var f=this.userList.map((function(t){return t.id})).indexOf(this.selectedItem.id);-1!=f&&this.$emit("detail",Object(o["a"])(Object(o["a"])({},this.userList[f]),p))}else this.$emit(this.selectedItem.event,this.selectedItem.collection,this.selectedItem.field,this.selectedItem.symbol,this.selectedItem.id,this.selectedItem.data,p);this.datePickerModal=!1},controlList:function(t){-1!=this.settmout&&clearTimeout(this.settmout);var e=this;this.settmout=setTimeout((function(){console.log(t),e.setUserList("user","name",">=",t)}),1e3)},getConnectFirestoreWhere:function(t,e,a,s){var i=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i.firebase.firestore().collection(t).where(e,a,s).get();case 2:return r=n.sent,n.abrupt("return",r.docs.map((function(t){return t.data()})));case 4:case"end":return n.stop()}}),n)})))()},getConnectFirestore:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.firebase.firestore().collection(t).get();case 2:return s=a.sent,a.abrupt("return",s.docs.map((function(t){return t.data()})));case 4:case"end":return a.stop()}}),a)})))()},setReSize:function(){var t=this;setTimeout((function(){var e=document.querySelector(".leaderboard"),a=e.offsetHeight;a<window.innerHeight?t.top=a/2+20:t.top=a/2-30}),500)},setUserList:function(t,e,a,s){var i=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i.isLoading=!0,n.next=3,i.getConnectFirestoreWhere(t,e,a,s);case 3:r=n.sent,console.log(i.userList,r),i.$emit("input",r),i.userList=r,i.isLoading=!1,i.setReSize();case 9:case"end":return n.stop()}}),n)})))()}},mounted:function(){window.addEventListener("resize",this.setReSize),this.setUserList("user","isDisabled","==",!1)}},be=ve,Ae=(a("9053"),Object(w["a"])(be,he,ge,!1,null,null,null)),we=Ae.exports,ye={props:{value:{default:function(){return[]}},user:{default:function(){}},firebase:{default:function(){}},realLoading:{default:function(){return!1}}},components:{LMap:q["a"],LTileLayer:$["a"],LMarker:tt["a"],LPopup:et["a"],LIcon:at["a"],UserList:we},watch:{value:{deep:!0,handler:function(t){this.users=t}},realLoading:function(t){this.isLoading=t}},data:function(){return{isLoading:!1,zoom:12,users:[],latLng:W["latLng"],center:Object(W["latLng"])(38.418292,27.137818),mapOptions:{zoomSnap:.5},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; Made it by <a href="https://wwww.eralpsoftware.com">Eralp Software</a>'}},methods:{setDate:function(t){if(t){var e=new Date(t);return e.toLocaleString()}return"Bilgi Yok."},centerUpdate:function(t,e){this.isLoading=!0,this.center=t,e&&(this.zoom=21),this.isLoading=!1},innerClick:function(t){this.$buefy.dialog.confirm({title:"Görünüm Seç",message:"Haritalar'da hangi formatta açmak istiyorsunuz? <br> <small>Eğer Sokak görünümünde siyah ekran açılıyorsa o konumda fotoğraf bulunmamaktadır. Lütfen Haritalar'da Aç seçeneğini Seçiniz<small/>",cancelText:"Haritalar'da Aç",confirmText:"Sokak Görünümü'nde Aç",type:"is-success",hasIcon:!0,onConfirm:function(){window.open("http://maps.google.com/maps?q=&layer=c&cbll=".concat(t.latitude,",").concat(t.longitude),"_blank")},onCancel:function(){window.open("https://www.google.com/maps/@".concat(t.latitude,",").concat(t.longitude,",21z"),"_blank")}})}}},ke=ye,xe=Object(w["a"])(ke,pe,fe,!1,null,null,null),_e=xe.exports,Ce={apiKey:"AIzaSyBliYNbIcIqaULTmboLANwnIYP0rWLSWHk",authDomain:"stafftracking-fe972.firebaseapp.com",projectId:"stafftracking-fe972",storageBucket:"stafftracking-fe972.appspot.com",messagingSenderId:"863271138241",appId:"1:863271138241:web:f691ae42783362a06fb540"};c["a"].initializeApp(Ce);var Le={name:"App",data:function(){return{show:{profileCard:!1,userList:!0},searchUserList:"",firebase:c["a"],notify:[],updated:!1,showModal:!1,firstLat:0,firstLng:0,points:[],heatMapPoints:[],lastDataTime:"01/01/01 01:01",userInfo:{name:"Bilgi Alınamadı"},users:[],loginModal:!1,showProject:!1,isLoading:!0,activeUser:{},profileUser:{},unsubscribe:null,lastLatLon:[],layout:"map",activeComponent:"missionsList",fullScreenModal:!1,lastActiveData:null}},components:{UserList:Y,Map:yt,LastDataTime:St,UserInfoApp:Ot,Modal:M,Login:Rt,ProfileCard:U,Navbar:Kt,missionsList:me,newMissions:oe,SalesView:_e},watch:{users:{deep:!0,handler:function(t){var e=this;this.users.forEach((function(a){e.unsubscribe=e.firebase.firestore().collection("user").doc(a.id).onSnapshot((function(a){e.isLoading=!0,e.$emit("new:value",!0);var s=a.data(),i=t.map((function(t){return t.id})).indexOf(s.id);if(-1!=i){var n=e.users[i],r=a.data();e.controlUser(n,r),e.users[i]=r,console.log("realtime"),setTimeout((function(){e.isLoading=!1}),150)}}))}))}}},methods:{readNotify:function(t){this.notify[t].isRead=!0,localStorage.setItem("notify",JSON.stringify(this.notify))},controlUser:function(t,e){if(console.log(t,e),t.isMoving!=e.isMoving){var a="".concat(e.name," isimli çalışan harekete geçti."),s="is-success",i="has-text-success",n="check-circle";e.isMoving||(a="".concat(e.name," isimli çalışan hareketsiz konuma geçti."),s="is-danger",i="has-text-danger",n="times"),this.alertCustomError(a,s,n,i)}else if(t.isAdmin!=e.isAdmin){var r="".concat(e.name," isimli çalışana Yönetici yetkisi verildi."),l="is-success",o="has-text-success",c="check-circle";e.isAdmin||(r="".concat(e.name," isimli çalışandan yönetici yetkisi alındı."),l="is-danger",o="has-text-danger",c="times"),this.alertCustomError(r,l,c,o)}else if(t.isDisabled!=e.isDisabled){var u="".concat(e.name," isimli çalışan sisteme geri eklendi."),d="is-success",m="check-circle",p="has-text-success";e.isDisabled&&(u="".concat(e.name," isimli çalışan sistemden kaldırıldı."),d="is-danger",p="has-text-danger",m="times"),this.alertCustomError(u,d,m,p)}else if(t["last_seen"].time!=e["last_seen"].time){var f="".concat(e.name," isimli çalışanın son konumu değişti."),h="is-success",g="check-circle",v="has-text-success";this.alertCustomError(f,h,g,v)}},alertCustomError:function(t,e,a,s){var i=(new Date).getHours(),n=(new Date).getSeconds(),r=(new Date).getMinutes(),l=i+":"+r+":"+n;this.notify.unshift({message:t,isRead:!1,icon:a,type:s,time:l}),localStorage.setItem("notify",JSON.stringify(this.notify)),this.$buefy.dialog.alert({title:"Yeni bir bildirimin var",message:t,type:e,hasIcon:!0,icon:a,iconPack:"fa",ariaRole:"alertdialog",ariaModal:!0})},setRefresh:function(){var t=this.lastActiveData;console.log(t),this.userInfo=t.listData,this.setUserHeatMap(t.collection,t.field,t.symbol,t.data,t.listData,t.date)},setLayout:function(t,e){this.layout=t,this.activeComponent=e},editedUser:function(t){var e=this.users.map((function(t){return t.id})).indexOf(t.id);-1!=e&&(this.users[e]=Object(o["a"])({},t),this.userInfo=Object(o["a"])({},t),this.profileUser=Object(o["a"])({},t))},setProfileUser:function(t){this.profileUser=t,this.show.profileCard=!0},logout:function(){localStorage.clear(),this.showProject=!1,this.loginModal=!0},setAccount:function(t){this.activeUser=t,this.showProject=!0},insertUser:function(t){-1!=t&&this.users.push(t)},deleteUser:function(t){var e=this.users.map((function(t){return t.id})).indexOf(t.id);-1!=e&&this.users.splice(e,1),this.updated=!1},changeObjectKey:function(t,e,a){var s;for(s=0;s<t.length;s++)t[s][a]=t[s][e],delete t[s][e];return t},getConnectFirestoreWhere:function(t,e,a,s,i,n){var r=this;return Object(l["a"])(regeneratorRuntime.mark((function l(){var o,c,u;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return console.log(t,e,a,s,i,n),o=new Date(n.start).getTime(),c=new Date(n.end).getTime(),l.next=5,r.firebase.firestore().collection(t).where(e,a,s).where(i,">=",o).where(i,"<=",c).orderBy(i,"asc").get();case 5:return u=l.sent,l.abrupt("return",u.docs.map((function(t){return t.data()})));case 7:case"end":return l.stop()}}),l)})))()},setUserHeatMap:function(t,e,a,s,i,n){var o=this;return Object(l["a"])(regeneratorRuntime.mark((function l(){var c,u,d,m,p;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return o.lastActiveData={collection:t,field:e,symbol:a,data:s,listData:i,date:n},o.userInfo=i,console.log(o.userInfo),o.profileUser=i,o.updated=!1,c=[],l.next=8,o.getConnectFirestoreWhere(t,e,a,s,"millisTime",n);case 8:return u=l.sent,l.next=11,o.getConnectFirestoreWhere("companies","user",a,s,"millisTime",n);case 11:d=l.sent,o.points=d,m=0,p=[],u.forEach((function(t){var e=new Date(t.time).getTime();m<e&&(o.lastDataTime=t.time,m=e);var a=o.changeObjectKey(t.locations,"latitude","lat");if(a=o.changeObjectKey(a,"longitude","lng"),0!=a.length)if(console.log("locations"),0==p.length)p.push({lat:a[a.length-1].lat,lng:a[a.length-1].lng,time:t.time,count:1});else{var s=3e-4,i=p[p.length-1].lat-a[a.length-1].lat,n=p[p.length-1].lng-a[a.length-1].lng;i<=s&&i>=-s&&n<=s&&n>=-s?p[p.length-1].count++:p.push({lat:a[a.length-1].lat,lng:a[a.length-1].lng,time:t.time,count:1})}0==o.firstLat&&0!=a.length&&(o.firstLat=a[0].lat),0==o.firstLng&&0!=a.length&&(o.firstLng=a[0].lng),c.push.apply(c,Object(r["a"])(a))})),console.log(p),o.lastLatLon=p,o.heatMapPoints=c,o.fullScreenModal=!0,o.updated=!0;case 21:case"end":return l.stop()}}),l)})))()}},mounted:function(){var t=localStorage.getItem("expired"),e=(new Date).getTime();if(t)if(t>e){this.showProject=!0;var a=localStorage.getItem("user"),s=localStorage.getItem("notify");if(s&&(this.notify=JSON.parse(s)),a)try{this.activeUser=JSON.parse(a),this.profileUser=JSON.parse(a)}catch(i){this.showProject=!1,this.loginModal=!0}else localStorage.clear(),this.showProject=!1,this.loginModal=!0}else localStorage.clear(),this.showProject=!1,this.loginModal=!0;else this.loginModal=!0}},Se=Le,Ee=(a("034f"),Object(w["a"])(Se,i,n,!1,null,null,null)),ze=Ee.exports,Ie=a("289d"),De=a("ecee"),Me=a("c074"),Oe=a("ad3d"),Be=(a("5abe"),a("cd79"));a("6cc5");De["c"].add(Me["l"],Me["m"],Me["t"],Me["p"],Me["o"],Me["g"],Me["c"],Me["b"],Me["a"],Me["r"],Me["s"],Me["j"],Me["k"],Me["F"],Me["E"],Me["v"],Me["z"],Me["G"],Me["y"],Me["x"],Me["A"],Me["d"],Me["e"],Me["n"],Me["h"],Me["w"],Me["H"],Me["q"],Me["f"],Me["C"],Me["D"],Me["u"],Me["B"],Me["i"]),s["a"].component("vue-fontawesome",Oe["a"]),s["a"].use(Ie["a"],{defaultIconComponent:"vue-fontawesome",defaultIconPack:"fas"});var Te="AIzaSyDiVsmG3vrpjPGYC500cFkz4tD2pQRs_Sw";s["a"].use(Be["a"],{apiKey:Te}),s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(ze)}}).$mount("#app")},"61d7":function(t,e){t.exports="data:image/png;base64,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"},"85ec":function(t,e,a){},"8e8a":function(t,e,a){},"8ea7":function(t,e,a){"use strict";a("c4f4")},9053:function(t,e,a){"use strict";a("8e8a")},"9e17":function(t,e,a){},a086:function(t,e,a){t.exports=a.p+"img/map.4633874a.svg"},a203:function(t,e,a){"use strict";a("a51f")},a51f:function(t,e,a){},a60d:function(t,e,a){},c3e7:function(t,e,a){t.exports=a.p+"img/profile.a4b6531f.png"},c4f4:function(t,e,a){},c533:function(t,e,a){t.exports=a.p+"img/heatmap.e5549f52.svg"},ee95:function(t,e,a){"use strict";a("f80b")},f80b:function(t,e,a){},ff25:function(t,e,a){"use strict";a("2662")}});